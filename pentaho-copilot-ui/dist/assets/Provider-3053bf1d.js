import{l as j,m as fe,j as D}from"./context-73c790cf.js";import{useContext as ue,useMemo as ce,Suspense as le}from"react";import{i as de,B as he,a as ye,I as pe}from"./i18nextBrowserLanguageDetector-f736ff85.js";import{HvAppShellViewContext as me}from"@hitachivantara/app-shell-shared";function ve(o,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in o)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(o,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}const be=()=>{const o=ue(me);return(o==null?void 0:o.id)??""},ge=be;function U(o){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(o)}var W=[],we=W.forEach,Oe=W.slice;function L(o){return we.call(Oe.call(arguments,1),function(t){if(t)for(var n in t)o[n]===void 0&&(o[n]=t[n])}),o}function J(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":U(XMLHttpRequest))==="object"}function Pe(o){return!!o&&typeof o.then=="function"}function _e(o){return Pe(o)?o:Promise.resolve(o)}function Ae(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var C={exports:{}},B={exports:{}},k;function Ee(){return k||(k=1,function(o,t){var n=typeof self<"u"?self:j,r=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(f){var c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function p(e){return e&&DataView.prototype.isPrototypeOf(e)}if(c.arrayBuffer)var b=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=ArrayBuffer.isView||function(e){return e&&b.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function g(e){return typeof e!="string"&&(e=String(e)),e}function m(e){var i={next:function(){var u=e.shift();return{done:u===void 0,value:u}}};return c.iterable&&(i[Symbol.iterator]=function(){return i}),i}function h(e){this.map={},e instanceof h?e.forEach(function(i,u){this.append(u,i)},this):Array.isArray(e)?e.forEach(function(i){this.append(i[0],i[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(i){this.append(i,e[i])},this)}h.prototype.append=function(e,i){e=l(e),i=g(i);var u=this.map[e];this.map[e]=u?u+", "+i:i},h.prototype.delete=function(e){delete this.map[l(e)]},h.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},h.prototype.set=function(e,i){this.map[l(e)]=g(i)},h.prototype.forEach=function(e,i){for(var u in this.map)this.map.hasOwnProperty(u)&&e.call(i,this.map[u],u,this)},h.prototype.keys=function(){var e=[];return this.forEach(function(i,u){e.push(u)}),m(e)},h.prototype.values=function(){var e=[];return this.forEach(function(i){e.push(i)}),m(e)},h.prototype.entries=function(){var e=[];return this.forEach(function(i,u){e.push([u,i])}),m(e)},c.iterable&&(h.prototype[Symbol.iterator]=h.prototype.entries);function A(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function q(e){return new Promise(function(i,u){e.onload=function(){i(e.result)},e.onerror=function(){u(e.error)}})}function ee(e){var i=new FileReader,u=q(i);return i.readAsArrayBuffer(e),u}function te(e){var i=new FileReader,u=q(i);return i.readAsText(e),u}function re(e){for(var i=new Uint8Array(e),u=new Array(i.length),w=0;w<i.length;w++)u[w]=String.fromCharCode(i[w]);return u.join("")}function X(e){if(e.slice)return e.slice(0);var i=new Uint8Array(e.byteLength);return i.set(new Uint8Array(e)),i.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:c.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:c.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c.arrayBuffer&&c.blob&&p(e)?(this._bodyArrayBuffer=X(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||y(e))?this._bodyArrayBuffer=X(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var e=A(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(ee)}),this.text=function(){var e=A(this);if(e)return e;if(this._bodyBlob)return te(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(re(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(oe)}),this.json=function(){return this.text().then(JSON.parse)},this}var ne=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ie(e){var i=e.toUpperCase();return ne.indexOf(i)>-1?i:e}function _(e,i){i=i||{};var u=i.body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,i.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!u&&e._bodyInit!=null&&(u=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=i.credentials||this.credentials||"same-origin",(i.headers||!this.headers)&&(this.headers=new h(i.headers)),this.method=ie(i.method||this.method||"GET"),this.mode=i.mode||this.mode||null,this.signal=i.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&u)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(u)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})};function oe(e){var i=new FormData;return e.trim().split("&").forEach(function(u){if(u){var w=u.split("="),v=w.shift().replace(/\+/g," "),d=w.join("=").replace(/\+/g," ");i.append(decodeURIComponent(v),decodeURIComponent(d))}}),i}function se(e){var i=new h,u=e.replace(/\r?\n[\t ]+/g," ");return u.split(/\r?\n/).forEach(function(w){var v=w.split(":"),d=v.shift().trim();if(d){var R=v.join(":").trim();i.append(d,R)}}),i}N.call(_.prototype);function O(e,i){i||(i={}),this.type="default",this.status=i.status===void 0?200:i.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in i?i.statusText:"OK",this.headers=new h(i.headers),this.url=i.url||"",this._initBody(e)}N.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},O.error=function(){var e=new O(null,{status:0,statusText:""});return e.type="error",e};var ae=[301,302,303,307,308];O.redirect=function(e,i){if(ae.indexOf(i)===-1)throw new RangeError("Invalid status code");return new O(null,{status:i,headers:{location:e}})},f.DOMException=a.DOMException;try{new f.DOMException}catch{f.DOMException=function(i,u){this.message=i,this.name=u;var w=Error(i);this.stack=w.stack},f.DOMException.prototype=Object.create(Error.prototype),f.DOMException.prototype.constructor=f.DOMException}function M(e,i){return new Promise(function(u,w){var v=new _(e,i);if(v.signal&&v.signal.aborted)return w(new f.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function R(){d.abort()}d.onload=function(){var E={status:d.status,statusText:d.statusText,headers:se(d.getAllResponseHeaders()||"")};E.url="responseURL"in d?d.responseURL:E.headers.get("X-Request-URL");var I="response"in d?d.response:d.responseText;u(new O(I,E))},d.onerror=function(){w(new TypeError("Network request failed"))},d.ontimeout=function(){w(new TypeError("Network request failed"))},d.onabort=function(){w(new f.DOMException("Aborted","AbortError"))},d.open(v.method,v.url,!0),v.credentials==="include"?d.withCredentials=!0:v.credentials==="omit"&&(d.withCredentials=!1),"responseType"in d&&c.blob&&(d.responseType="blob"),v.headers.forEach(function(E,I){d.setRequestHeader(I,E)}),v.signal&&(v.signal.addEventListener("abort",R),d.onreadystatechange=function(){d.readyState===4&&v.signal.removeEventListener("abort",R)}),d.send(typeof v._bodyInit>"u"?null:v._bodyInit)})}return M.polyfill=!0,a.fetch||(a.fetch=M,a.Headers=h,a.Request=_,a.Response=O),f.Headers=h,f.Request=_,f.Response=O,f.fetch=M,Object.defineProperty(f,"__esModule",{value:!0}),f})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;t=s.fetch,t.default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,o.exports=t}(B,B.exports)),B.exports}(function(o,t){var n;if(typeof fetch=="function"&&(typeof j<"u"&&j.fetch?n=j.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof Ae<"u"&&(typeof window>"u"||typeof window.document>"u")){var r=n||Ee();r.default&&(r=r.default),t.default=r,o.exports=t.default}})(C,C.exports);var K=C.exports;const Q=fe(K),G=ve({__proto__:null,default:Q},[K]);function H(o){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(o)}var P;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?P=global.fetch:typeof window<"u"&&window.fetch?P=window.fetch:P=fetch);var T;J()&&(typeof global<"u"&&global.XMLHttpRequest?T=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(T=window.XMLHttpRequest));var x;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?x=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(x=window.ActiveXObject));!P&&G&&!T&&!x&&(P=Q||G);typeof P!="function"&&(P=void 0);var F=function(t,n){if(n&&H(n)==="object"){var r="";for(var s in n)r+="&"+encodeURIComponent(s)+"="+encodeURIComponent(n[s]);if(!r)return t;t=t+(t.indexOf("?")!==-1?"&":"?")+r.slice(1)}return t},V=function(t,n,r){P(t,n).then(function(s){if(!s.ok)return r(s.statusText||"Error",{status:s.status});s.text().then(function(a){r(null,{status:s.status,data:a})}).catch(r)}).catch(r)},$=!1,Te=function(t,n,r,s){t.queryStringParams&&(n=F(n,t.queryStringParams));var a=L({},typeof t.customHeaders=="function"?t.customHeaders():t.customHeaders);r&&(a["Content-Type"]="application/json");var f=typeof t.requestOptions=="function"?t.requestOptions(r):t.requestOptions,c=L({method:r?"POST":"GET",body:r?t.stringify(r):void 0,headers:a},$?{}:f);try{V(n,c,s)}catch(p){if(!f||Object.keys(f).length===0||!p.message||p.message.indexOf("not implemented")<0)return s(p);try{Object.keys(f).forEach(function(b){delete c[b]}),V(n,c,s),$=!0}catch(b){s(b)}}},Se=function(t,n,r,s){r&&H(r)==="object"&&(r=F("",r).slice(1)),t.queryStringParams&&(n=F(n,t.queryStringParams));try{var a;T?a=new T:a=new x("MSXML2.XMLHTTP.3.0"),a.open(r?"POST":"GET",n,1),t.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!t.withCredentials,r&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var f=t.customHeaders;if(f=typeof f=="function"?f():f,f)for(var c in f)a.setRequestHeader(c,f[c]);a.onreadystatechange=function(){a.readyState>3&&s(a.status>=400?a.statusText:null,{status:a.status,data:a.responseText})},a.send(r)}catch(p){console&&console.log(p)}},qe=function(t,n,r,s){if(typeof r=="function"&&(s=r,r=void 0),s=s||function(){},P&&n.indexOf("file:")!==0)return Te(t,n,r,s);if(J()||typeof ActiveXObject=="function")return Se(t,n,r,s);s(new Error("No fetch and no xhr implementation found!"))};function S(o){"@babel/helpers - typeof";return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S(o)}function Re(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function z(o,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,Y(r.key),r)}}function Be(o,t,n){return t&&z(o.prototype,t),n&&z(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}function je(o,t,n){return t=Y(t),t in o?Object.defineProperty(o,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[t]=n,o}function Y(o){var t=De(o,"string");return S(t)==="symbol"?t:String(t)}function De(o,t){if(S(o)!=="object"||o===null)return o;var n=o[Symbol.toPrimitive];if(n!==void 0){var r=n.call(o,t||"default");if(S(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(o)}var He=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,s){return je({},r,s||"")},parseLoadPayload:function(n,r){},request:qe,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Z=function(){function o(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Re(this,o),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}return Be(o,[{key:"init",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=L(s,this.options||{},He()),this.allOptions=a,this.services&&this.options.reloadInterval&&setInterval(function(){return r.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(n,r,s){this._readAny(n,n,r,r,s)}},{key:"read",value:function(n,r,s){this._readAny([n],n,[r],r,s)}},{key:"_readAny",value:function(n,r,s,a,f){var c=this,p=this.options.loadPath;typeof this.options.loadPath=="function"&&(p=this.options.loadPath(n,s)),p=_e(p),p.then(function(b){if(!b)return f(null,{});var y=c.services.interpolator.interpolate(b,{lng:n.join("+"),ns:s.join("+")});c.loadUrl(y,f,r,a)})}},{key:"loadUrl",value:function(n,r,s,a){var f=this,c=typeof s=="string"?[s]:s,p=typeof a=="string"?[a]:a,b=this.options.parseLoadPayload(c,p);this.options.request(this.options,n,b,function(y,l){if(l&&(l.status>=500&&l.status<600||!l.status))return r("failed loading "+n+"; status code: "+l.status,!0);if(l&&l.status>=400&&l.status<500)return r("failed loading "+n+"; status code: "+l.status,!1);if(!l&&y&&y.message&&y.message.indexOf("Failed to fetch")>-1)return r("failed loading "+n+": "+y.message,!0);if(y)return r(y,!1);var g,m;try{typeof l.data=="string"?g=f.options.parse(l.data,s,a):g=l.data}catch{m="failed parsing "+n+" to json"}if(m)return r(m,!1);r(null,g)})}},{key:"create",value:function(n,r,s,a,f){var c=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var p=this.options.parsePayload(r,s,a),b=0,y=[],l=[];n.forEach(function(g){var m=c.options.addPath;typeof c.options.addPath=="function"&&(m=c.options.addPath(g,r));var h=c.services.interpolator.interpolate(m,{lng:g,ns:r});c.options.request(c.options,h,p,function(A,q){b+=1,y.push(A),l.push(q),b===n.length&&typeof f=="function"&&f(y,l)})})}}},{key:"reload",value:function(){var n=this,r=this.services,s=r.backendConnector,a=r.languageUtils,f=r.logger,c=s.language;if(!(c&&c.toLowerCase()==="cimode")){var p=[],b=function(l){var g=a.toResolveHierarchy(l);g.forEach(function(m){p.indexOf(m)<0&&p.push(m)})};b(c),this.allOptions.preload&&this.allOptions.preload.forEach(function(y){return b(y)}),p.forEach(function(y){n.allOptions.ns.forEach(function(l){s.read(y,l,"read",null,null,function(g,m){g&&f.warn("loading namespace ".concat(l," for language ").concat(y," failed"),g),!g&&m&&f.log("loaded namespace ".concat(l," for language ").concat(y),m),s.loaded("".concat(y,"|").concat(l),g,m)})})})}}}]),o}();Z.type="backend";const xe=o=>{const t=de.createInstance(),n=o+"locales/{{lng}}/{{ns}}.json";return t.use(Z).use(he).use(ye).init({fallbackLng:"en",ns:[],backend:{loadPath:n},interpolation:{escapeValue:!1},react:{useSuspense:!1},load:"languageOnly"}),t},Me=()=>{const o=ge();return ce(()=>{var n,r;return xe((r=(n=import.meta).resolve)==null?void 0:r.call(n,"@hv-apps/genai-companion/"))},[o])},Ie=({children:o})=>{const t=Me();return D(pe,{i18n:t,children:o})};function Xe(o){const t=o.displayName||o.name||"Component",n=r=>D(Ie,{children:D(le,{fallback:null,children:D(o,{...r})})});return n.displayName=`withProvider(${t})`,n}export{Xe as w};
