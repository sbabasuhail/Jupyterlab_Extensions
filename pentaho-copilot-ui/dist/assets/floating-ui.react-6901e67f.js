import{j as Pe}from"./context-73c790cf.js";import{s as Nt,t as Lt,I as Bt}from"./v4-e12fed77.js";import*as g from"react";import{useLayoutEffect as ut,useEffect as ft,useRef as Vt}from"react";import*as Wt from"react-dom";const ar=({viewbox:e="0 0 16 16",...t})=>{const[n,r]=Nt("Chat",t);return Pe(Bt,{iconName:"Chat",palette:[Lt.colors.secondary],...r,children:Pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:e,...n,children:Pe("path",{fill:"var(--color-0)",className:"color0",d:"M1 1v11h4v2l2.7-2H15V1H1M0 0h16v13H8l-4 3v-3H0zm4 5h8v1H4zm0 2h6v1H4z"})})})};function te(e){return dt(e)?(e.nodeName||"").toLowerCase():"#document"}function z(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Z(e){var t;return(t=(dt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dt(e){return e instanceof Node||e instanceof z(e).Node}function N(e){return e instanceof Element||e instanceof z(e).Element}function W(e){return e instanceof HTMLElement||e instanceof z(e).HTMLElement}function We(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof z(e).ShadowRoot}function ge(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=j(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Ht(e){return["table","td","th"].includes(te(e))}function $e(e){const t=_e(),n=j(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $t(e){let t=ie(e);for(;W(t)&&!pe(t);){if($e(t))return t;t=ie(t)}return null}function _e(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pe(e){return["html","body","#document"].includes(te(e))}function j(e){return z(e).getComputedStyle(e)}function De(e){return N(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ie(e){if(te(e)==="html")return e;const t=e.assignedSlot||e.parentNode||We(e)&&e.host||Z(e);return We(t)?t.host:t}function mt(e){const t=ie(e);return pe(t)?e.ownerDocument?e.ownerDocument.body:e.body:W(t)&&ge(t)?t:mt(t)}function ee(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=mt(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=z(o);return i?t.concat(s,s.visualViewport||[],ge(o)?o:[],s.frameElement&&n?ee(s.frameElement):[]):t.concat(o,ee(o,[],n))}function le(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function _(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&We(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function _t(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Kt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function zt(e){return e.mozInputSource===0&&e.isTrusted?!0:gt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function jt(e){return!gt()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function qt(){return/apple/i.test(navigator.vendor)}function gt(){const e=/android/i;return e.test(_t())||e.test(Kt())}function Ue(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Ut(e){return"nativeEvent"in e}function Yt(e){return e.matches("html,body")}function X(e){return(e==null?void 0:e.ownerDocument)||document}function Fe(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function pt(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Xt="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function ht(e){return W(e)&&e.matches(Xt)}function Me(e){e.preventDefault(),e.stopPropagation()}const ue=Math.min,K=Math.max,Ee=Math.round,be=Math.floor,ne=e=>({x:e,y:e});function Ye(e,t,n){return K(e,ue(t,n))}function ke(e,t){return typeof e=="function"?e(t):e}function he(e){return e.split("-")[0]}function Ke(e){return e.split("-")[1]}function vt(e){return e==="x"?"y":"x"}function Gt(e){return e==="y"?"height":"width"}function ve(e){return["top","bottom"].includes(he(e))?"y":"x"}function Zt(e){return vt(ve(e))}function Jt(e){return{top:0,right:0,bottom:0,left:0,...e}}function Qt(e){return typeof e!="number"?Jt(e):{top:e,right:e,bottom:e,left:e}}function Se(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Xe(e,t,n){let{reference:r,floating:o}=e;const i=ve(t),s=Zt(t),a=Gt(s),c=he(t),u=i==="y",d=r.x+r.width/2-o.width/2,m=r.y+r.height/2-o.height/2,h=r[a]/2-o[a]/2;let l;switch(c){case"top":l={x:d,y:r.y-o.height};break;case"bottom":l={x:d,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:m};break;case"left":l={x:r.x-o.width,y:m};break;default:l={x:r.x,y:r.y}}switch(Ke(t)){case"start":l[s]-=h*(n&&u?-1:1);break;case"end":l[s]+=h*(n&&u?-1:1);break}return l}const en=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:m}=Xe(u,r,c),h=r,l={},p=0;for(let w=0;w<a.length;w++){const{name:E,fn:v}=a[w],{x:f,y:C,data:y,reset:b}=await v({x:d,y:m,initialPlacement:r,placement:h,strategy:o,middlewareData:l,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=f??d,m=C??m,l={...l,[E]:{...l[E],...y}},b&&p<=50){p++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(u=b.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):b.rects),{x:d,y:m}=Xe(u,h,c)),w=-1;continue}}return{x:d,y:m,placement:h,strategy:o,middlewareData:l}};async function bt(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:h=!1,padding:l=0}=ke(t,e),p=Qt(l),E=a[h?m==="floating"?"reference":"floating":m],v=Se(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),f=m==="floating"?{...s.floating,x:r,y:o}:s.reference,C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),y=await(i.isElement==null?void 0:i.isElement(C))?await(i.getScale==null?void 0:i.getScale(C))||{x:1,y:1}:{x:1,y:1},b=Se(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:f,offsetParent:C,strategy:c}):f);return{top:(v.top-b.top+p.top)/y.y,bottom:(b.bottom-v.bottom+p.bottom)/y.y,left:(v.left-b.left+p.left)/y.x,right:(b.right-v.right+p.right)/y.x}}async function tn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=he(n),a=Ke(n),c=ve(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,m=ke(t,e);let{mainAxis:h,crossAxis:l,alignmentAxis:p}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return a&&typeof p=="number"&&(l=a==="end"?p*-1:p),c?{x:l*d,y:h*u}:{x:h*u,y:l*d}}const ur=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await tn(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},fr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:E=>{let{x:v,y:f}=E;return{x:v,y:f}}},...c}=ke(e,t),u={x:n,y:r},d=await bt(t,c),m=ve(he(o)),h=vt(m);let l=u[h],p=u[m];if(i){const E=h==="y"?"top":"left",v=h==="y"?"bottom":"right",f=l+d[E],C=l-d[v];l=Ye(f,l,C)}if(s){const E=m==="y"?"top":"left",v=m==="y"?"bottom":"right",f=p+d[E],C=p-d[v];p=Ye(f,p,C)}const w=a.fn({...t,[h]:l,[m]:p});return{...w,data:{x:w.x-n,y:w.y-r}}}}},dr=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...a}=ke(e,t),c=await bt(t,a),u=he(n),d=Ke(n),m=ve(n)==="y",{width:h,height:l}=r.floating;let p,w;u==="top"||u==="bottom"?(p=u,w=d===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(w=u,p=d==="end"?"top":"bottom");const E=l-c[p],v=h-c[w],f=!t.middlewareData.shift;let C=E,y=v;if(m){const O=h-c.left-c.right;y=d||f?ue(v,O):O}else{const O=l-c.top-c.bottom;C=d||f?ue(E,O):O}if(f&&!d){const O=K(c.left,0),F=K(c.right,0),H=K(c.top,0),q=K(c.bottom,0);m?y=h-2*(O!==0||F!==0?O+F:K(c.left,c.right)):C=l-2*(H!==0||q!==0?H+q:K(c.top,c.bottom))}await s({...t,availableWidth:y,availableHeight:C});const b=await o.getDimensions(i.floating);return h!==b.width||l!==b.height?{reset:{rects:!0}}:{}}}};function yt(e){const t=j(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=W(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=Ee(n)!==i||Ee(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function ze(e){return N(e)?e:e.contextElement}function ae(e){const t=ze(e);if(!W(t))return ne(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=yt(t);let s=(i?Ee(n.width):n.width)/r,a=(i?Ee(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const nn=ne(0);function wt(e){const t=z(e);return!_e()||!t.visualViewport?nn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==z(e)?!1:t}function se(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=ze(e);let s=ne(1);t&&(r?N(r)&&(s=ae(r)):s=ae(e));const a=rn(i,n,r)?wt(i):ne(0);let c=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,m=o.height/s.y;if(i){const h=z(i),l=r&&N(r)?z(r):r;let p=h.frameElement;for(;p&&r&&l!==h;){const w=ae(p),E=p.getBoundingClientRect(),v=j(p),f=E.left+(p.clientLeft+parseFloat(v.paddingLeft))*w.x,C=E.top+(p.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,m*=w.y,c+=f,u+=C,p=z(p).frameElement}}return Se({width:d,height:m,x:c,y:u})}function on(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=W(n),i=Z(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=ne(1);const c=ne(0);if((o||!o&&r!=="fixed")&&((te(n)!=="body"||ge(i))&&(s=De(n)),W(n))){const u=se(n);a=ae(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}}function sn(e){return Array.from(e.getClientRects())}function xt(e){return se(Z(e)).left+De(e).scrollLeft}function cn(e){const t=Z(e),n=De(e),r=e.ownerDocument.body,o=K(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=K(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+xt(e);const a=-n.scrollTop;return j(r).direction==="rtl"&&(s+=K(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function ln(e,t){const n=z(e),r=Z(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const u=_e();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function an(e,t){const n=se(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=W(e)?ae(e):ne(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:s,height:a,x:c,y:u}}function Ge(e,t,n){let r;if(t==="viewport")r=ln(e,n);else if(t==="document")r=cn(Z(e));else if(N(t))r=an(t,n);else{const o=wt(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Se(r)}function Rt(e,t){const n=ie(e);return n===t||!N(n)||pe(n)?!1:j(n).position==="fixed"||Rt(n,t)}function un(e,t){const n=t.get(e);if(n)return n;let r=ee(e,[],!1).filter(a=>N(a)&&te(a)!=="body"),o=null;const i=j(e).position==="fixed";let s=i?ie(e):e;for(;N(s)&&!pe(s);){const a=j(s),c=$e(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||ge(s)&&!c&&Rt(e,s))?r=r.filter(d=>d!==s):o=a,s=ie(s)}return t.set(e,r),r}function fn(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?un(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,d)=>{const m=Ge(t,d,o);return u.top=K(m.top,u.top),u.right=ue(m.right,u.right),u.bottom=ue(m.bottom,u.bottom),u.left=K(m.left,u.left),u},Ge(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function dn(e){return yt(e)}function mn(e,t,n){const r=W(t),o=Z(t),i=n==="fixed",s=se(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=ne(0);if(r||!r&&!i)if((te(t)!=="body"||ge(o))&&(a=De(t)),r){const u=se(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else o&&(c.x=xt(o));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function Ze(e,t){return!W(e)||j(e).position==="fixed"?null:t?t(e):e.offsetParent}function Et(e,t){const n=z(e);if(!W(e))return n;let r=Ze(e,t);for(;r&&Ht(r)&&j(r).position==="static";)r=Ze(r,t);return r&&(te(r)==="html"||te(r)==="body"&&j(r).position==="static"&&!$e(r))?n:r||$t(e)||n}const gn=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||Et,i=this.getDimensions;return{reference:mn(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function pn(e){return j(e).direction==="rtl"}const hn={convertOffsetParentRelativeRectToViewportRelativeRect:on,getDocumentElement:Z,getClippingRect:fn,getOffsetParent:Et,getElementRects:gn,getClientRects:sn,getDimensions:dn,getScale:ae,isElement:N,isRTL:pn};function vn(e,t){let n=null,r;const o=Z(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:m,height:h}=e.getBoundingClientRect();if(a||t(),!m||!h)return;const l=be(d),p=be(o.clientWidth-(u+m)),w=be(o.clientHeight-(d+h)),E=be(u),f={rootMargin:-l+"px "+-p+"px "+-w+"px "+-E+"px",threshold:K(0,ue(1,c))||1};let C=!0;function y(b){const O=b[0].intersectionRatio;if(O!==c){if(!C)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},100)}C=!1}try{n=new IntersectionObserver(y,{...f,root:o.ownerDocument})}catch{n=new IntersectionObserver(y,f)}n.observe(e)}return s(!0),i}function mr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=ze(e),d=o||i?[...u?ee(u):[],...ee(t)]:[];d.forEach(v=>{o&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const m=u&&a?vn(u,n):null;let h=-1,l=null;s&&(l=new ResizeObserver(v=>{let[f]=v;f&&f.target===u&&l&&(l.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{l&&l.observe(t)})),n()}),u&&!c&&l.observe(u),l.observe(t));let p,w=c?se(e):null;c&&E();function E(){const v=se(e);w&&(v.x!==w.x||v.y!==w.y||v.width!==w.width||v.height!==w.height)&&n(),w=v,p=requestAnimationFrame(E)}return n(),()=>{d.forEach(v=>{o&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),m&&m(),l&&l.disconnect(),l=null,c&&cancelAnimationFrame(p)}}const bn=(e,t,n)=>{const r=new Map,o={platform:hn,...n},i={...o.platform,_c:r};return en(e,t,{...o,platform:i})};var xe=typeof document<"u"?ut:ft;function Ce(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Ce(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ce(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function St(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Je(e,t){const n=St(e);return Math.round(t*n)/n}function Qe(e){const t=g.useRef(e);return xe(()=>{t.current=e}),t}function yn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,m]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,l]=g.useState(r);Ce(h,r)||l(r);const[p,w]=g.useState(null),[E,v]=g.useState(null),f=g.useCallback(k=>{k!=O.current&&(O.current=k,w(k))},[w]),C=g.useCallback(k=>{k!==F.current&&(F.current=k,v(k))},[v]),y=i||p,b=s||E,O=g.useRef(null),F=g.useRef(null),H=g.useRef(d),q=Qe(c),L=Qe(o),S=g.useCallback(()=>{if(!O.current||!F.current)return;const k={placement:t,strategy:n,middleware:h};L.current&&(k.platform=L.current),bn(O.current,F.current,k).then(G=>{const M={...G,isPositioned:!0};I.current&&!Ce(H.current,M)&&(H.current=M,Wt.flushSync(()=>{m(M)}))})},[h,t,n,L]);xe(()=>{u===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,m(k=>({...k,isPositioned:!1})))},[u]);const I=g.useRef(!1);xe(()=>(I.current=!0,()=>{I.current=!1}),[]),xe(()=>{if(y&&(O.current=y),b&&(F.current=b),y&&b){if(q.current)return q.current(y,b,S);S()}},[y,b,S,q]);const B=g.useMemo(()=>({reference:O,floating:F,setReference:f,setFloating:C}),[f,C]),D=g.useMemo(()=>({reference:y,floating:b}),[y,b]),x=g.useMemo(()=>{const k={position:n,left:0,top:0};if(!D.floating)return k;const G=Je(D.floating,d.x),M=Je(D.floating,d.y);return a?{...k,transform:"translate("+G+"px, "+M+"px)",...St(D.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:M}},[n,a,D.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:S,refs:B,elements:D,floatingStyles:x}),[d,S,B,D,x])}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var wn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],He=wn.join(","),Ct=typeof Element>"u",me=Ct?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Te=!Ct&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Ae=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},xn=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Rn=function(t,n,r){if(Ae(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(He));return n&&me.call(t,He)&&o.unshift(t),o=o.filter(r),o},En=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!Ae(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),c=a.length?a:s.children,u=e(c,!0,r);r.flatten?o.push.apply(o,u):o.push({scopeParent:s,candidates:u})}else{var d=me.call(s,He);d&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var m=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),h=!Ae(m,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(m&&h){var l=e(m===!0?s.children:m.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:s,candidates:l})}else i.unshift.apply(i,s.children)}}return o},Tt=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},At=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||xn(t))&&!Tt(t)?0:t.tabIndex},Sn=function(t,n){var r=At(t);return r<0&&n&&!Tt(t)?0:r},Cn=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Ot=function(t){return t.tagName==="INPUT"},Tn=function(t){return Ot(t)&&t.type==="hidden"},An=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},On=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},In=function(t){if(!t.name)return!0;var n=t.form||Te(t),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=On(o,t.form);return!i||i===t},Dn=function(t){return Ot(t)&&t.type==="radio"},kn=function(t){return Dn(t)&&!In(t)},Pn=function(t){var n,r=t&&Te(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,a,c;for(i=!!((s=o)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(o)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!i&&o;){var u,d,m;r=Te(o),o=(u=r)===null||u===void 0?void 0:u.host,i=!!((d=o)!==null&&d!==void 0&&(m=d.ownerDocument)!==null&&m!==void 0&&m.contains(o))}}return i},et=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Fn=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=me.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(me.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var a=t;t;){var c=t.parentElement,u=Te(t);if(c&&!c.shadowRoot&&o(c)===!0)return et(t);t.assignedSlot?t=t.assignedSlot:!c&&u!==t.ownerDocument?t=u.host:t=c}t=a}if(Pn(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return et(t);return!1},Mn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return me.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Nn=function(t,n){return!(n.disabled||Ae(n)||Tn(n)||Fn(n,t)||An(n)||Mn(n))},tt=function(t,n){return!(kn(n)||At(n)<0||!Nn(t,n))},Ln=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Bn=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,a=s?o.scopeParent:o,c=Sn(a,s),u=s?e(o.candidates):a;c===0?s?n.push.apply(n,u):n.push(a):r.push({documentOrder:i,tabIndex:c,item:o,isScope:s,content:u})}),r.sort(Cn).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},It=function(t,n){n=n||{};var r;return n.getShadowRoot?r=En([t],n.includeContainer,{filter:tt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Ln}):r=Rn(t,n.includeContainer,tt.bind(null,n)),Bn(r)};let nt=0;function oe(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(nt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():nt=requestAnimationFrame(i)}var Q=typeof document<"u"?ut:ft;function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}let Ne=!1,Vn=0;const rt=()=>"floating-ui-"+Vn++;function Wn(){const[e,t]=g.useState(()=>Ne?rt():void 0);return Q(()=>{e==null&&t(rt())},[]),g.useEffect(()=>{Ne||(Ne=!0)},[]),e}const Hn=g["useId".toString()],Dt=Hn||Wn;function $n(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const _n=g.createContext(null),Kn=g.createContext(null),zn=()=>{var e;return((e=g.useContext(_n))==null?void 0:e.id)||null},je=()=>g.useContext(Kn);function Ie(e){return"data-floating-ui-"+e}function Le(e){const t=Vt(e);return Q(()=>{t.current=e}),t}function jn(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function de(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var a;return o.parentId===s.id&&((a=o.context)==null?void 0:a.open)})}),n=n.concat(r);return n}let ce=new WeakMap,ye=new WeakSet,we={},Be=0;const qn=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,kt=e=>e&&(e.host||kt(e.parentNode)),Un=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=kt(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Yn(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=Un(t,e),a=new Set,c=new Set(s),u=[];we[o]||(we[o]=new WeakMap);const d=we[o];s.forEach(m),h(t),a.clear();function m(l){!l||a.has(l)||(a.add(l),l.parentNode&&m(l.parentNode))}function h(l){!l||c.has(l)||Array.prototype.forEach.call(l.children,p=>{if(a.has(p))h(p);else{const w=i?p.getAttribute(i):null,E=w!==null&&w!=="false",v=(ce.get(p)||0)+1,f=(d.get(p)||0)+1;ce.set(p,v),d.set(p,f),u.push(p),v===1&&E&&ye.add(p),f===1&&p.setAttribute(o,""),!E&&i&&p.setAttribute(i,"true")}})}return Be++,()=>{u.forEach(l=>{const p=(ce.get(l)||0)-1,w=(d.get(l)||0)-1;ce.set(l,p),d.set(l,w),p||(!ye.has(l)&&i&&l.removeAttribute(i),ye.delete(l)),w||l.removeAttribute(o)}),Be--,Be||(ce=new WeakMap,ce=new WeakMap,ye=new WeakSet,we={})}}function ot(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=X(e[0]).body;return Yn(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Pt=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Ft(e,t){const n=It(e,Pt());t==="prev"&&n.reverse();const r=n.indexOf(le(X(e)));return n.slice(r+1)[0]}function Xn(){return Ft(document.body,"next")}function Gn(){return Ft(document.body,"prev")}function it(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!_(n,r)}const Mt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Zn;function st(e){e.key==="Tab"&&(e.target,clearTimeout(Zn))}const ct=g.forwardRef(function(t,n){const[r,o]=g.useState();Q(()=>(qt()&&o("button"),document.addEventListener("keydown",st),()=>{document.removeEventListener("keydown",st)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Ie("focus-guard")]:"",style:Mt};return g.createElement("span",Oe({},t,i))}),Jn=g.createContext(null),Qn=()=>g.useContext(Jn),er=g.forwardRef(function(t,n){return g.createElement("button",Oe({},t,{type:"button",ref:n,tabIndex:-1,style:Mt}))});function gr(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:a=!0,modal:c=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:d=!0}=e,{open:m,refs:h,nodeId:l,onOpenChange:p,events:w,dataRef:E,elements:{domReference:v,floating:f}}=t,C=typeof s=="number"&&s<0,y=(v==null?void 0:v.getAttribute("role"))==="combobox"&&ht(v)&&C,b=y?!1:c,O=qn()?i:!0,F=Le(o),H=Le(s),q=Le(a),L=je(),S=Qn(),I=g.useRef(null),B=g.useRef(null),D=g.useRef(!1),x=g.useRef(null),k=g.useRef(!1),G=S!=null,M=g.useCallback(function(R){return R===void 0&&(R=f),R?It(R,Pt()):[]},[f]),J=g.useCallback(R=>{const A=M(R);return F.current.map(T=>v&&T==="reference"?v:f&&T==="floating"?f:A).filter(Boolean).flat()},[v,f,F,M]);g.useEffect(()=>{if(r||!b)return;function R(T){if(T.key==="Tab"){_(f,le(X(f)))&&M().length===0&&!y&&Me(T);const P=J(),U=pt(T);F.current[0]==="reference"&&U===v&&(Me(T),T.shiftKey?oe(P[P.length-1]):oe(P[1])),F.current[1]==="floating"&&U===f&&T.shiftKey&&(Me(T),oe(P[0]))}}const A=X(f);return A.addEventListener("keydown",R),()=>{A.removeEventListener("keydown",R)}},[r,v,f,b,F,h,y,M,J]),g.useEffect(()=>{if(r||!d)return;function R(){k.current=!0,setTimeout(()=>{k.current=!1})}function A(T){const P=T.relatedTarget;queueMicrotask(()=>{const U=!(_(v,P)||_(f,P)||_(P,f)||_(S==null?void 0:S.portalNode,P)||P!=null&&P.hasAttribute(Ie("focus-guard"))||L&&(de(L.nodesRef.current,l).find($=>{var Y,re;return _((Y=$.context)==null?void 0:Y.elements.floating,P)||_((re=$.context)==null?void 0:re.elements.domReference,P)})||jn(L.nodesRef.current,l).find($=>{var Y,re;return((Y=$.context)==null?void 0:Y.elements.floating)===P||((re=$.context)==null?void 0:re.elements.domReference)===P})));P&&U&&!k.current&&P!==x.current&&(D.current=!0,p(!1,T))})}if(f&&W(v))return v.addEventListener("focusout",A),v.addEventListener("pointerdown",R),!b&&f.addEventListener("focusout",A),()=>{v.removeEventListener("focusout",A),v.removeEventListener("pointerdown",R),!b&&f.removeEventListener("focusout",A)}},[r,v,f,b,l,L,S,p,d]),g.useEffect(()=>{var R;if(r)return;const A=Array.from((S==null||(R=S.portalNode)==null?void 0:R.querySelectorAll("["+Ie("portal")+"]"))||[]);if(f){const T=[f,...A,I.current,B.current,F.current.includes("reference")||y?v:null].filter(U=>U!=null),P=c||y?ot(T,O,!O):ot(T);return()=>{P()}}},[r,v,f,c,F,S,y,O]),Q(()=>{if(r||!f)return;const R=X(f),A=le(R);queueMicrotask(()=>{const T=J(f),P=H.current,U=(typeof P=="number"?T[P]:P.current)||f,$=_(f,A);!C&&!$&&m&&oe(U,{preventScroll:U===f})})},[r,m,f,C,J,H]),Q(()=>{if(r||!f)return;let R=!1;const A=X(f),T=le(A),P=E.current;x.current=T;function U($){if($.type==="escapeKey"&&h.domReference.current&&(x.current=h.domReference.current),["referencePress","escapeKey"].includes($.type))return;const Y=$.data.returnFocus;typeof Y=="object"?(D.current=!1,R=Y.preventScroll):D.current=!Y}return w.on("dismiss",U),()=>{w.off("dismiss",U);const $=le(A);(_(f,$)||L&&de(L.nodesRef.current,l).some(re=>{var qe;return _((qe=re.context)==null?void 0:qe.elements.floating,$)})||P.openEvent&&["click","mousedown"].includes(P.openEvent.type))&&h.domReference.current&&(x.current=h.domReference.current),q.current&&W(x.current)&&!D.current&&oe(x.current,{cancelPrevious:!1,preventScroll:R})}},[r,f,q,E,h,w,L,l]),Q(()=>{if(!(r||!S))return S.setFocusManagerState({modal:b,closeOnFocusOut:d,open:m,onOpenChange:p,refs:h}),()=>{S.setFocusManagerState(null)}},[r,S,b,m,p,h,d]),Q(()=>{if(r||!f||typeof MutationObserver!="function"||C)return;const R=()=>{const T=f.getAttribute("tabindex");F.current.includes("floating")||le(X(f))!==h.domReference.current&&M().length===0?T!=="0"&&f.setAttribute("tabindex","0"):T!=="-1"&&f.setAttribute("tabindex","-1")};R();const A=new MutationObserver(R);return A.observe(f,{childList:!0,subtree:!0,attributes:!0}),()=>{A.disconnect()}},[r,f,h,F,M,C]);function fe(R){return r||!u||!b?null:g.createElement(er,{ref:R==="start"?I:B,onClick:A=>p(!1,A.nativeEvent)},typeof u=="string"?u:"Dismiss")}const V=!r&&O&&(G||b);return g.createElement(g.Fragment,null,V&&g.createElement(ct,{"data-type":"inside",ref:S==null?void 0:S.beforeInsideRef,onFocus:R=>{if(b){const T=J();oe(o[0]==="reference"?T[0]:T[T.length-1])}else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(D.current=!1,it(R,S.portalNode)){const T=Xn()||v;T==null||T.focus()}else{var A;(A=S.beforeOutsideRef.current)==null||A.focus()}}}),!y&&fe("start"),n,fe("end"),V&&g.createElement(ct,{"data-type":"inside",ref:S==null?void 0:S.afterInsideRef,onFocus:R=>{if(b)oe(J()[0]);else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(d&&(D.current=!0),it(R,S.portalNode)){const T=Gn()||v;T==null||T.focus()}else{var A;(A=S.afterOutsideRef.current)==null||A.focus()}}}))}function lt(e){return W(e.target)&&e.target.tagName==="BUTTON"}function at(e){return ht(e)}function pr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:a="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0}=t,m=g.useRef(),h=g.useRef(!1);return g.useMemo(()=>s?{reference:{onPointerDown(l){m.current=l.pointerType},onMouseDown(l){l.button===0&&(Ue(m.current,!0)&&u||a!=="click"&&(n&&c&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,l.nativeEvent):(l.preventDefault(),r(!0,l.nativeEvent))))},onClick(l){if(a==="mousedown"&&m.current){m.current=void 0;return}Ue(m.current,!0)&&u||(n&&c&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,l.nativeEvent):r(!0,l.nativeEvent))},onKeyDown(l){m.current=void 0,!(l.defaultPrevented||!d||lt(l))&&(l.key===" "&&!at(i)&&(l.preventDefault(),h.current=!0),l.key==="Enter"&&r(!(n&&c),l.nativeEvent))},onKeyUp(l){l.defaultPrevented||!d||lt(l)||at(i)||l.key===" "&&h.current&&(h.current=!1,r(!(n&&c),l.nativeEvent))}}}:{},[s,o,a,u,d,i,c,n,r])}const tr=g["useInsertionEffect".toString()],nr=tr||(e=>e());function Re(e){const t=g.useRef(()=>{});return nr(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const rr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},or={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ir=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function hr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:a,floating:c},dataRef:u}=e,{enabled:d=!0,escapeKey:m=!0,outsidePress:h=!0,outsidePressEvent:l="pointerdown",referencePress:p=!1,referencePressEvent:w="pointerdown",ancestorScroll:E=!1,bubbles:v}=t,f=je(),C=zn()!=null,y=Re(typeof h=="function"?h:()=>!1),b=typeof h=="function"?y:h,O=g.useRef(!1),F=g.useRef(!1),{escapeKeyBubbles:H,outsidePressBubbles:q}=ir(v),L=Re(I=>{if(!n||!d||!m||I.key!=="Escape")return;const B=f?de(f.nodesRef.current,i):[];if(!H&&(I.stopPropagation(),B.length>0)){let D=!0;if(B.forEach(x=>{var k;if((k=x.context)!=null&&k.open&&!x.context.dataRef.current.__escapeKeyBubbles){D=!1;return}}),!D)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,Ut(I)?I.nativeEvent:I)}),S=Re(I=>{const B=O.current;O.current=!1;const D=F.current;if(F.current=!1,l==="click"&&D||B||typeof b=="function"&&!b(I))return;const x=pt(I),k="["+Ie("inert")+"]",G=X(c).querySelectorAll(k);let M=N(x)?x:null;for(;M&&!pe(M);){const V=ie(M);if(V===X(c).body||!N(V))break;M=V}if(G.length&&N(x)&&!Yt(x)&&!_(x,c)&&Array.from(G).every(V=>!_(M,V)))return;if(W(x)&&c){const V=x.clientWidth>0&&x.scrollWidth>x.clientWidth,R=x.clientHeight>0&&x.scrollHeight>x.clientHeight;let A=R&&I.offsetX>x.clientWidth;if(R&&j(x).direction==="rtl"&&(A=I.offsetX<=x.offsetWidth-x.clientWidth),A||V&&I.offsetY>x.clientHeight)return}const J=f&&de(f.nodesRef.current,i).some(V=>{var R;return Fe(I,(R=V.context)==null?void 0:R.elements.floating)});if(Fe(I,c)||Fe(I,a)||J)return;const fe=f?de(f.nodesRef.current,i):[];if(fe.length>0){let V=!0;if(fe.forEach(R=>{var A;if((A=R.context)!=null&&A.open&&!R.context.dataRef.current.__outsidePressBubbles){V=!1;return}}),!V)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:C?{preventScroll:!0}:zt(I)||jt(I)}}),r(!1,I)});return g.useEffect(()=>{if(!n||!d)return;u.current.__escapeKeyBubbles=H,u.current.__outsidePressBubbles=q;function I(x){r(!1,x)}const B=X(c);m&&B.addEventListener("keydown",L),b&&B.addEventListener(l,S);let D=[];return E&&(N(a)&&(D=ee(a)),N(c)&&(D=D.concat(ee(c))),!N(s)&&s&&s.contextElement&&(D=D.concat(ee(s.contextElement)))),D=D.filter(x=>{var k;return x!==((k=B.defaultView)==null?void 0:k.visualViewport)}),D.forEach(x=>{x.addEventListener("scroll",I,{passive:!0})}),()=>{m&&B.removeEventListener("keydown",L),b&&B.removeEventListener(l,S),D.forEach(x=>{x.removeEventListener("scroll",I)})}},[u,c,a,s,m,b,l,n,r,E,d,H,q,L,S]),g.useEffect(()=>{O.current=!1},[b,l]),g.useMemo(()=>d?{reference:{onKeyDown:L,[rr[w]]:I=>{p&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,I.nativeEvent))}},floating:{onKeyDown:L,onMouseDown(){F.current=!0},onMouseUp(){F.current=!0},[or[l]]:()=>{O.current=!0}}}:{},[d,o,p,l,w,r,L])}function vr(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=g.useState(null),a=((t=e.elements)==null?void 0:t.reference)||i,c=yn(e),u=je(),d=Re((y,b)=>{y&&(h.current.openEvent=b),r==null||r(y,b)}),m=g.useRef(null),h=g.useRef({}),l=g.useState(()=>$n())[0],p=Dt(),w=g.useCallback(y=>{const b=N(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;c.refs.setReference(b)},[c.refs]),E=g.useCallback(y=>{(N(y)||y===null)&&(m.current=y,s(y)),(N(c.refs.reference.current)||c.refs.reference.current===null||y!==null&&!N(y))&&c.refs.setReference(y)},[c.refs]),v=g.useMemo(()=>({...c.refs,setReference:E,setPositionReference:w,domReference:m}),[c.refs,E,w]),f=g.useMemo(()=>({...c.elements,domReference:a}),[c.elements,a]),C=g.useMemo(()=>({...c,refs:v,elements:f,dataRef:h,nodeId:o,floatingId:p,events:l,open:n,onOpenChange:d}),[c,o,p,l,n,d,v,f]);return Q(()=>{const y=u==null?void 0:u.nodesRef.current.find(b=>b.id===o);y&&(y.context=C)}),g.useMemo(()=>({...c,context:C,refs:v,elements:f}),[c,v,f,C])}function Ve(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[a,c]=s;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof c=="function"){var u;(u=r.get(a))==null||u.push(c),o[a]=function(){for(var d,m=arguments.length,h=new Array(m),l=0;l<m;l++)h[l]=arguments[l];return(d=r.get(a))==null?void 0:d.map(p=>p(...h)).find(p=>p!==void 0)}}}else o[a]=c}),o),{})}}function br(e){e===void 0&&(e=[]);const t=e,n=g.useCallback(i=>Ve(i,e,"reference"),t),r=g.useCallback(i=>Ve(i,e,"floating"),t),o=g.useCallback(i=>Ve(i,e,"item"),e.map(i=>i==null?void 0:i.item));return g.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}function yr(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,s=Dt();return g.useMemo(()=>{const a={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...a,...i==="menu"&&{"aria-labelledby":s}}}:{}},[o,i,n,r,s])}export{ar as C,gr as F,pr as a,hr as b,yr as c,br as d,dr as e,mr as f,ur as o,fr as s,vr as u};
