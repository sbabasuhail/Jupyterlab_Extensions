import { jsx } from "@emotion/react/jsx-runtime";
import _styled from "@emotion/styled/base";
import { useMemo } from "react";
import { getColor, theme } from "@hitachivantara/uikit-styles";
import { isXS, isSemantic } from "./utils.js";
const getDims = (size) => ({
  width: size,
  height: size
});
const getColorVars = (colorArray) => {
  return colorArray.reduce((acc, value, index) => {
    acc[`--color-${index}`] = value;
    return acc;
  }, {});
};
const getIconSize = (iconSize, hasSpecialSize, width, height) => {
  if (width && height)
    return {
      width,
      height
    };
  const calcSize = (size) => hasSpecialSize ? size + 8 : size;
  switch (iconSize) {
    case "XS":
      return getDims(calcSize(12));
    default:
    case "S":
      return getDims(calcSize(16));
    case "M":
      return getDims(calcSize(32));
    case "L":
      return getDims(calcSize(96));
  }
};
const getIconColors = (palette = [], color, semantic, inverted = false) => {
  var _a;
  const colorArray = palette;
  if (typeof color === "string") {
    colorArray[0] = getColor(color);
  } else if (Array.isArray(color)) {
    colorArray.forEach((_, i) => {
      colorArray[i] = getColor(color[i]);
    });
  }
  if (semantic) {
    colorArray[0] = ((_a = theme.colors) == null ? void 0 : _a[semantic]) || colorArray[0];
  }
  if (inverted && colorArray[1]) {
    colorArray[1] = colorArray[0];
    colorArray[0] = "none";
  }
  return colorArray;
};
const splitIconProps = (iconName, props) => {
  const {
    role,
    title,
    iconSize: iconSizeProp,
    width,
    height,
    svgProps,
    "aria-label": ariaLabel,
    "aria-labelledby": ariaLabelledBy,
    "aria-describedby": ariaDescribedBy,
    ...rest
  } = props;
  const iconSize = iconSizeProp ?? (isXS(iconName) ? "XS" : "S");
  const size = getIconSize(iconSize, isSemantic(iconName), width, height);
  const newSvgProps = {
    focusable: false,
    // pass size props
    ...size,
    // pass a11y props
    title,
    role,
    "aria-label": ariaLabel,
    "aria-labelledby": ariaLabelledBy,
    "aria-describedby": ariaDescribedBy,
    // pass all other `svgProps`
    ...svgProps
  };
  const newOtherProps = {
    iconSize,
    ...rest
  };
  return [newSvgProps, newOtherProps];
};
function useIconColor(palette = [], color, semantic, inverted = false) {
  return useMemo(() => {
    return getIconColors(palette, color, semantic, inverted);
  }, [color, inverted, palette, semantic]);
}
function useIconSize(iconSize, height, width, hasSpecialSize = false) {
  return useMemo(() => {
    return getIconSize(iconSize, hasSpecialSize, width, height);
  }, [hasSpecialSize, height, iconSize, width]);
}
function useIcon(props, palette = [], hasSpecialSize = false) {
  const {
    color,
    iconSize,
    width,
    height,
    semantic,
    inverted
  } = props;
  const colorArray = useIconColor(palette, color, semantic, inverted);
  const size = useIconSize(iconSize, height, width, hasSpecialSize);
  return {
    size,
    colorArray
  };
}
const StyledIconBase = /* @__PURE__ */ _styled("div", process.env.NODE_ENV === "production" ? {
  target: "e13q2m0o0"
} : {
  target: "e13q2m0o0",
  label: "StyledIconBase"
})(({
  iconSize
}) => ({
  display: "flex",
  "& svg": {
    margin: "auto",
    color: "inherit"
  },
  ...iconSize === "XS" && getDims(32),
  ...iconSize === "S" && getDims(32),
  ...iconSize === "M" && getDims(48),
  ...iconSize === "L" && getDims(112)
}), process.env.NODE_ENV === "production" ? "" : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2h2LXVpa2l0LXJlYWN0L2h2LXVpa2l0LXJlYWN0L3BhY2thZ2VzL2ljb25zL2Jpbi9JY29uQmFzZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBaUw4QiIsImZpbGUiOiIvaG9tZS9ydW5uZXIvd29yay9odi11aWtpdC1yZWFjdC9odi11aWtpdC1yZWFjdC9wYWNrYWdlcy9pY29ucy9iaW4vSWNvbkJhc2UudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0eWxlZCBmcm9tIFwiQGVtb3Rpb24vc3R5bGVkXCI7XG5pbXBvcnQgUmVhY3QsIHsgSFRNTEF0dHJpYnV0ZXMsIEFsbEhUTUxBdHRyaWJ1dGVzLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0aGVtZSwgZ2V0Q29sb3IgfSBmcm9tIFwiQGhpdGFjaGl2YW50YXJhL3Vpa2l0LXN0eWxlc1wiO1xuaW1wb3J0IHsgaXNTZW1hbnRpYywgaXNYUyB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmNvbnN0IGdldERpbXMgPSAoc2l6ZTogbnVtYmVyKSA9PiAoeyB3aWR0aDogc2l6ZSwgaGVpZ2h0OiBzaXplIH0pO1xuXG5leHBvcnQgY29uc3QgZ2V0Q29sb3JWYXJzID0gKGNvbG9yQXJyYXk6IHN0cmluZ1tdKSA9PiB7XG4gIHJldHVybiBjb2xvckFycmF5LnJlZHVjZSgoYWNjLCB2YWx1ZSwgaW5kZXgpID0+IHtcbiAgICBhY2NbYC0tY29sb3ItJHtpbmRleH1gXSA9IHZhbHVlO1xuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4pO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEljb25TaXplID0gKFxuICBpY29uU2l6ZT86IEljb25TaXplLFxuICBoYXNTcGVjaWFsU2l6ZT86IGJvb2xlYW4sXG4gIHdpZHRoPzogbnVtYmVyLFxuICBoZWlnaHQ/OiBudW1iZXJcbikgPT4ge1xuICBpZiAod2lkdGggJiYgaGVpZ2h0KSByZXR1cm4geyB3aWR0aCwgaGVpZ2h0IH07XG5cbiAgY29uc3QgY2FsY1NpemUgPSAoc2l6ZTogbnVtYmVyKSA9PiAoaGFzU3BlY2lhbFNpemUgPyBzaXplICsgOCA6IHNpemUpO1xuXG4gIHN3aXRjaCAoaWNvblNpemUpIHtcbiAgICBjYXNlIFwiWFNcIjpcbiAgICAgIHJldHVybiBnZXREaW1zKGNhbGNTaXplKDEyKSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlZmF1bHQtY2FzZS1sYXN0XG4gICAgZGVmYXVsdDpcbiAgICBjYXNlIFwiU1wiOlxuICAgICAgcmV0dXJuIGdldERpbXMoY2FsY1NpemUoMTYpKTtcbiAgICBjYXNlIFwiTVwiOlxuICAgICAgcmV0dXJuIGdldERpbXMoY2FsY1NpemUoMzIpKTtcbiAgICBjYXNlIFwiTFwiOlxuICAgICAgcmV0dXJuIGdldERpbXMoY2FsY1NpemUoOTYpKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldEljb25Db2xvcnMgPSAoXG4gIHBhbGV0dGU6IHN0cmluZ1tdID0gW10sXG4gIGNvbG9yPzogc3RyaW5nIHwgc3RyaW5nW10sXG4gIHNlbWFudGljPzogc3RyaW5nLFxuICBpbnZlcnRlZCA9IGZhbHNlXG4pID0+IHtcbiAgY29uc3QgY29sb3JBcnJheSA9IHBhbGV0dGU7XG5cbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gXCJzdHJpbmdcIikge1xuICAgIGNvbG9yQXJyYXlbMF0gPSBnZXRDb2xvcihjb2xvcikgYXMgc3RyaW5nO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29sb3IpKSB7XG4gICAgY29sb3JBcnJheS5mb3JFYWNoKChfLCBpKSA9PiB7XG4gICAgICBjb2xvckFycmF5W2ldID0gZ2V0Q29sb3IoY29sb3JbaV0pIGFzIHN0cmluZztcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChzZW1hbnRpYykge1xuICAgIGNvbG9yQXJyYXlbMF0gPSB0aGVtZS5jb2xvcnM/LltzZW1hbnRpY10gfHwgY29sb3JBcnJheVswXTtcbiAgfVxuXG4gIGlmIChpbnZlcnRlZCAmJiBjb2xvckFycmF5WzFdKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgY29sb3JBcnJheVsxXSA9IGNvbG9yQXJyYXlbMF07XG4gICAgY29sb3JBcnJheVswXSA9IFwibm9uZVwiO1xuICB9XG5cbiAgcmV0dXJuIGNvbG9yQXJyYXk7XG59O1xuXG4vKiogU3BsaXRzIGljb24gYHByb3BzYCBiZXR3ZWVuIHRob3NlIHRvIGJlIHBhc3NlZCB0byBjb250YWluZXIgb3Igc3ZnICovXG5leHBvcnQgY29uc3Qgc3BsaXRJY29uUHJvcHMgPSAoaWNvbk5hbWU6IHN0cmluZywgcHJvcHM6IEljb25CYXNlUHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHJvbGUsXG4gICAgdGl0bGUsXG4gICAgaWNvblNpemU6IGljb25TaXplUHJvcCxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgc3ZnUHJvcHMsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGFyaWFMYWJlbCxcbiAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBhcmlhTGFiZWxsZWRCeSxcbiAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogYXJpYURlc2NyaWJlZEJ5LFxuICAgIC4uLnJlc3RcbiAgfSA9IHByb3BzO1xuICBjb25zdCBpY29uU2l6ZSA9IGljb25TaXplUHJvcCA/PyAoaXNYUyhpY29uTmFtZSkgPyBcIlhTXCIgOiBcIlNcIik7XG4gIGNvbnN0IHNpemUgPSBnZXRJY29uU2l6ZShpY29uU2l6ZSwgaXNTZW1hbnRpYyhpY29uTmFtZSksIHdpZHRoLCBoZWlnaHQpO1xuXG4gIGNvbnN0IG5ld1N2Z1Byb3BzID0ge1xuICAgIGZvY3VzYWJsZTogZmFsc2UsXG4gICAgLy8gcGFzcyBzaXplIHByb3BzXG4gICAgLi4uc2l6ZSxcbiAgICAvLyBwYXNzIGExMXkgcHJvcHNcbiAgICB0aXRsZSxcbiAgICByb2xlLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwsXG4gICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogYXJpYUxhYmVsbGVkQnksXG4gICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IGFyaWFEZXNjcmliZWRCeSxcbiAgICAvLyBwYXNzIGFsbCBvdGhlciBgc3ZnUHJvcHNgXG4gICAgLi4uc3ZnUHJvcHMsXG4gIH0gc2F0aXNmaWVzIEhUTUxBdHRyaWJ1dGVzPFNWR0VsZW1lbnQ+O1xuXG4gIGNvbnN0IG5ld090aGVyUHJvcHMgPSB7XG4gICAgaWNvblNpemUsXG4gICAgLi4ucmVzdCxcbiAgfSBzYXRpc2ZpZXMgSWNvbkJhc2VQcm9wcztcblxuICByZXR1cm4gW25ld1N2Z1Byb3BzLCBuZXdPdGhlclByb3BzXSBhcyBjb25zdDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VJY29uQ29sb3IoXG4gIHBhbGV0dGU6IHN0cmluZ1tdID0gW10sXG4gIGNvbG9yPzogc3RyaW5nIHwgc3RyaW5nW10sXG4gIHNlbWFudGljPzogc3RyaW5nLFxuICBpbnZlcnRlZCA9IGZhbHNlXG4pIHtcbiAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBnZXRJY29uQ29sb3JzKHBhbGV0dGUsIGNvbG9yLCBzZW1hbnRpYywgaW52ZXJ0ZWQpO1xuICB9LCBbY29sb3IsIGludmVydGVkLCBwYWxldHRlLCBzZW1hbnRpY10pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlSWNvblNpemUoXG4gIGljb25TaXplPzogSWNvblNpemUsXG4gIGhlaWdodD86IG51bWJlcixcbiAgd2lkdGg/OiBudW1iZXIsXG4gIGhhc1NwZWNpYWxTaXplID0gZmFsc2Vcbikge1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIGdldEljb25TaXplKGljb25TaXplLCBoYXNTcGVjaWFsU2l6ZSwgd2lkdGgsIGhlaWdodCk7XG4gIH0sIFtoYXNTcGVjaWFsU2l6ZSwgaGVpZ2h0LCBpY29uU2l6ZSwgd2lkdGhdKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUljb24oXG4gIHByb3BzOiBJY29uQmFzZVByb3BzLFxuICBwYWxldHRlOiBzdHJpbmdbXSA9IFtdLFxuICBoYXNTcGVjaWFsU2l6ZSA9IGZhbHNlXG4pIHtcbiAgY29uc3QgeyBjb2xvciwgaWNvblNpemUsIHdpZHRoLCBoZWlnaHQsIHNlbWFudGljLCBpbnZlcnRlZCB9ID0gcHJvcHM7XG4gIGNvbnN0IGNvbG9yQXJyYXkgPSB1c2VJY29uQ29sb3IocGFsZXR0ZSwgY29sb3IsIHNlbWFudGljLCBpbnZlcnRlZCk7XG4gIGNvbnN0IHNpemUgPSB1c2VJY29uU2l6ZShpY29uU2l6ZSwgaGVpZ2h0LCB3aWR0aCwgaGFzU3BlY2lhbFNpemUpO1xuXG4gIHJldHVybiB7IHNpemUsIGNvbG9yQXJyYXkgfTtcbn1cblxuZXhwb3J0IHR5cGUgSWNvblNpemUgPSBcIlhTXCIgfCBcIlNcIiB8IFwiTVwiIHwgXCJMXCI7XG5cbnR5cGUgSFRNTERpdlByb3BzID0gUGljazxBbGxIVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sIFwibmFtZVwiPiAmXG4gIFBpY2s8XG4gICAgSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LFxuICAgIEV4Y2x1ZGU8a2V5b2YgSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+LCBcImNvbG9yXCIgfCBcImhlaWdodFwiIHwgXCJ3aWR0aFwiPlxuICA+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEljb25CYXNlUHJvcHMgZXh0ZW5kcyBIVE1MRGl2UHJvcHMge1xuICAvKipcbiAgICogQSBTdHJpbmcgb3IgQXJyYXkgb2Ygc3RyaW5ncyByZXByZXNlbnRpbmcgdGhlIGNvbG9ycyB0byBvdmVycmlkZSBpbiB0aGUgaWNvbi5cbiAgICogRWFjaCBlbGVtZW50IGluc2lkZSB0aGUgYXJyYXkgd2lsbCBvdmVycmlkZSBhIGRpZmZlcmVudCBjb2xvci5cbiAgICogWW91IGNhbiB1c2UgZWl0aGVyIGFuIEhFWCBvciBjb2xvciBuYW1lIGZyb20gdGhlIHBhbGV0dGUuXG4gICAqL1xuICBjb2xvcj86IHN0cmluZyB8IHN0cmluZ1tdO1xuICAvKiogU2V0cyBvbmUgb2YgdGhlIHN0YW5kYXJkIHNpemVzIG9mIHRoZSBpY29ucyAqL1xuICBpY29uU2l6ZT86IEljb25TaXplO1xuICAvKiogQSBzdHJpbmcgdGhhdCB3aWxsIG92ZXJyaWRlIHRoZSB2aWV3Ym94IG9mIHRoZSBzdmcgKi9cbiAgdmlld2JveD86IHN0cmluZztcbiAgLyoqIEEgc3RyaW5nIHRoYXQgd2lsbCBvdmVycmlkZSB0aGUgaGVpZ2h0IG9mIHRoZSBzdmcgKi9cbiAgaGVpZ2h0PzogbnVtYmVyO1xuICAvKiogQSBzdHJpbmcgdGhhdCB3aWxsIG92ZXJyaWRlIHRoZSB3aWR0aCBvZiB0aGUgc3ZnICovXG4gIHdpZHRoPzogbnVtYmVyO1xuICAvKipcbiAgICogU2V0cyBvbmUgb2YgdGhlIHN0YW5kYXJkIHNlbWFudGljIHBhbGV0dGUgY29sb3JzIG9mIHRoZSBpY29uXG4gICAqIEBkZXByZWNhdGVkIHVzZSB0aGUgYGNvbG9yYCBwcm9wIGluc3RlYWRcbiAgICovXG4gIHNlbWFudGljPzogc3RyaW5nO1xuICAvKipcbiAgICogSW52ZXJ0cyB0aGUgYmFja2dyb3VuZC1mb3JlZ3JvdW5kIG9uIHNlbWFudGljIGljb25zXG4gICAqIEBkZXByZWNhdGVkIHVzZSB0aGUgYGNvbG9yYCBwcm9wIGluc3RlYWRcbiAgICovXG4gIGludmVydGVkPzogYm9vbGVhbjtcbiAgLyoqIFByb3BzIHBhc3NlZCBkb3duIHRvIHRoZSBzdmcgZWxlbWVudC4gKi9cbiAgc3ZnUHJvcHM/OiBSZWFjdC5TVkdQcm9wczxTVkdTVkdFbGVtZW50Pjtcbn1cblxuZXhwb3J0IGNvbnN0IFN0eWxlZEljb25CYXNlID0gc3R5bGVkKFwiZGl2XCIpKFxuICAoeyBpY29uU2l6ZSB9OiB7IGljb25TaXplOiBJY29uU2l6ZSB9KSA9PiAoe1xuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgIFwiJiBzdmdcIjoge1xuICAgICAgbWFyZ2luOiBcImF1dG9cIixcbiAgICAgIGNvbG9yOiBcImluaGVyaXRcIixcbiAgICB9LFxuICAgIC4uLihpY29uU2l6ZSA9PT0gXCJYU1wiICYmIGdldERpbXMoMzIpKSxcbiAgICAuLi4oaWNvblNpemUgPT09IFwiU1wiICYmIGdldERpbXMoMzIpKSxcbiAgICAuLi4oaWNvblNpemUgPT09IFwiTVwiICYmIGdldERpbXMoNDgpKSxcbiAgICAuLi4oaWNvblNpemUgPT09IFwiTFwiICYmIGdldERpbXMoMTEyKSksXG4gIH0pXG4pO1xuXG5leHBvcnQgY29uc3QgSWNvbkJhc2UgPSAoe1xuICBjaGlsZHJlbixcbiAgcGFsZXR0ZSxcbiAgaGVpZ2h0LFxuICB3aWR0aCxcbiAgY29sb3IsXG4gIHNlbWFudGljLFxuICBpbnZlcnRlZCA9IGZhbHNlLFxuICBpY29uU2l6ZSA9IFwiU1wiLFxuICBpY29uTmFtZSxcbiAgc3R5bGUsXG4gIC4uLm90aGVyc1xufTogSWNvbkJhc2VQcm9wcyAmIHsgcGFsZXR0ZTogc3RyaW5nW107IGljb25OYW1lOiBzdHJpbmcgfSkgPT4ge1xuICBjb25zdCBjb2xvckFycmF5ID0gZ2V0SWNvbkNvbG9ycyhwYWxldHRlLCBjb2xvciwgc2VtYW50aWMsIGludmVydGVkKTtcbiAgY29uc3QgY29sb3JWYXJzID0gZ2V0Q29sb3JWYXJzKGNvbG9yQXJyYXkpO1xuXG4gIHJldHVybiAoXG4gICAgPFN0eWxlZEljb25CYXNlXG4gICAgICBkYXRhLW5hbWU9e2ljb25OYW1lfVxuICAgICAgaWNvblNpemU9e2ljb25TaXplfVxuICAgICAgc3R5bGU9e3sgLi4uY29sb3JWYXJzLCAuLi5zdHlsZSB9fVxuICAgICAgey4uLm90aGVyc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9TdHlsZWRJY29uQmFzZT5cbiAgKTtcbn07XG4iXX0= */");
const IconBase = ({
  children,
  palette,
  height,
  width,
  color,
  semantic,
  inverted = false,
  iconSize = "S",
  iconName,
  style,
  ...others
}) => {
  const colorArray = getIconColors(palette, color, semantic, inverted);
  const colorVars = getColorVars(colorArray);
  return /* @__PURE__ */ jsx(StyledIconBase, { "data-name": iconName, iconSize, style: {
    ...colorVars,
    ...style
  }, ...others, children });
};
export {
  IconBase,
  StyledIconBase,
  getColorVars,
  getIconColors,
  getIconSize,
  splitIconProps,
  useIcon,
  useIconColor,
  useIconSize
};
//# sourceMappingURL=IconBase.js.map
