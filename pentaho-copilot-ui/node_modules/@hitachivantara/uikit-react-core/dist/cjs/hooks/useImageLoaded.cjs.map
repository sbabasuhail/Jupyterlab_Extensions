{"version":3,"file":"useImageLoaded.cjs","sources":["../../../src/hooks/useImageLoaded.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport const useImageLoaded = (src, srcSet) => {\n  const [imageLoaded, setImageLoaded] = useState<boolean | string>(false);\n\n  useEffect(() => {\n    if (!src && !srcSet) {\n      return undefined;\n    }\n\n    setImageLoaded(false);\n\n    let active = true;\n    const image = new Image();\n    image.src = src;\n    image.srcset = srcSet || \"\";\n    image.onload = () => {\n      if (!active) {\n        return;\n      }\n\n      setImageLoaded(\"loaded\");\n    };\n    image.onerror = () => {\n      if (!active) {\n        return;\n      }\n\n      setImageLoaded(\"error\");\n    };\n\n    return () => {\n      active = false;\n    };\n  }, [src, srcSet]);\n\n  return imageLoaded;\n};\n"],"names":["useImageLoaded","src","srcSet","imageLoaded","setImageLoaded","useState","useEffect","undefined","active","image","Image","srcset","onload","onerror"],"mappings":";;;AAEaA,MAAAA,iBAAiBA,CAACC,KAAKC,WAAW;AAC7C,QAAM,CAACC,aAAaC,cAAc,IAAIC,eAA2B,KAAK;AAEtEC,QAAAA,UAAU,MAAM;AACV,QAAA,CAACL,OAAO,CAACC,QAAQ;AACZK,aAAAA;AAAAA,IACT;AAEAH,mBAAe,KAAK;AAEpB,QAAII,SAAS;AACPC,UAAAA,QAAQ,IAAIC;AAClBD,UAAMR,MAAMA;AACZQ,UAAME,SAAST,UAAU;AACzBO,UAAMG,SAAS,MAAM;AACnB,UAAI,CAACJ,QAAQ;AACX;AAAA,MACF;AAEAJ,qBAAe,QAAQ;AAAA,IAAA;AAEzBK,UAAMI,UAAU,MAAM;AACpB,UAAI,CAACL,QAAQ;AACX;AAAA,MACF;AAEAJ,qBAAe,OAAO;AAAA,IAAA;AAGxB,WAAO,MAAM;AACF,eAAA;AAAA,IAAA;AAAA,EACX,GACC,CAACH,KAAKC,MAAM,CAAC;AAETC,SAAAA;AACT;;"}