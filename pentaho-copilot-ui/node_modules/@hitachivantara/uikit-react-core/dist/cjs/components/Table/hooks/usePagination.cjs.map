{"version":3,"file":"usePagination.cjs","sources":["../../../../../src/components/Table/hooks/usePagination.ts"],"sourcesContent":["import {\n  makePropGetter,\n  useGetLatest,\n  ensurePluginOrder,\n  Hooks,\n  PropGetter,\n  TableCommonProps,\n} from \"react-table\";\n\n// #region ##### TYPES #####\n\nexport interface HvTablePaginationProps extends TableCommonProps {\n  canPrevious: boolean;\n  canNext: boolean;\n  pages: number;\n  page: number;\n  pageSize: number;\n  onPageChange?: (updater: ((pageIndex: number) => number) | number) => void;\n  onPageSizeChange?: (pageSize: number) => void;\n  labels?: Record<string, string>;\n}\n\nexport type HvPaginationPropGetter<D extends object> = PropGetter<\n  D,\n  HvTablePaginationProps\n>;\n\nexport interface UseHvPaginationHooks<D extends object> {\n  getHvPaginationProps: Array<HvPaginationPropGetter<D>>;\n}\n\nexport interface UseHvPaginationTableInstance<D extends object> {\n  getHvPaginationProps: (\n    propGetter?: HvPaginationPropGetter<D>\n  ) => HvTablePaginationProps;\n}\n\nexport type UsePaginationProps = (<D extends object = Record<string, unknown>>(\n  hooks: Hooks<D>\n) => void) & { pluginName: string };\n\n// #endregion ##### TYPES #####\n\nconst useInstanceHook = (instance) => {\n  ensurePluginOrder(instance.plugins, [\"usePagination\"], \"useHvPagination\");\n\n  const getInstance = useGetLatest(instance);\n  const getHvPaginationProps = makePropGetter(\n    instance.getHooks().getHvPaginationProps,\n    {\n      instance: getInstance(),\n    }\n  );\n\n  Object.assign(instance, {\n    getHvPaginationProps,\n  });\n};\n\nexport const defaultGetHvPaginationProps = (props, { instance }) => {\n  const {\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    gotoPage,\n    setPageSize,\n    state: { pageSize, pageIndex },\n    labels,\n  } = instance;\n\n  const nextProps: HvTablePaginationProps = {\n    canPrevious: canPreviousPage,\n    canNext: canNextPage,\n    pages: pageOptions.length,\n    page: pageIndex,\n    pageSize,\n    onPageChange: gotoPage,\n    onPageSizeChange: setPageSize,\n    labels,\n  };\n\n  return [props, nextProps];\n};\n\nconst usePagination: UsePaginationProps = (hooks) => {\n  hooks.getHvPaginationProps = [defaultGetHvPaginationProps];\n\n  hooks.useInstance.push(useInstanceHook);\n};\n\nusePagination.pluginName = \"useHvPagination\";\n\nexport default usePagination;\n"],"names":["useInstanceHook","instance","ensurePluginOrder","plugins","getInstance","useGetLatest","getHvPaginationProps","makePropGetter","getHooks","Object","assign","defaultGetHvPaginationProps","props","canPreviousPage","canNextPage","pageOptions","gotoPage","setPageSize","state","pageSize","pageIndex","labels","nextProps","canPrevious","canNext","pages","length","page","onPageChange","onPageSizeChange","usePagination","hooks","useInstance","push","pluginName"],"mappings":";;;AA2CA,MAAMA,kBAAmBC,CAAa,aAAA;AACpCC,aAAAA,kBAAkBD,SAASE,SAAS,CAAC,eAAe,GAAG,iBAAiB;AAElEC,QAAAA,cAAcC,wBAAaJ,QAAQ;AACzC,QAAMK,uBAAuBC,WAAAA,eAC3BN,SAASO,SAAAA,EAAWF,sBACpB;AAAA,IACEL,UAAUG,YAAY;AAAA,EAAA,CAE1B;AAEAK,SAAOC,OAAOT,UAAU;AAAA,IACtBK;AAAAA,EAAAA,CACD;AACH;AAEaK,MAAAA,8BAA8BA,CAACC,OAAO;AAAA,EAAEX;AAAS,MAAM;AAC5D,QAAA;AAAA,IACJY;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC;AAAAA,IACAC,OAAO;AAAA,MAAEC;AAAAA,MAAUC;AAAAA,IAAU;AAAA,IAC7BC;AAAAA,EACEpB,IAAAA;AAEJ,QAAMqB,YAAoC;AAAA,IACxCC,aAAaV;AAAAA,IACbW,SAASV;AAAAA,IACTW,OAAOV,YAAYW;AAAAA,IACnBC,MAAMP;AAAAA,IACND;AAAAA,IACAS,cAAcZ;AAAAA,IACda,kBAAkBZ;AAAAA,IAClBI;AAAAA,EAAAA;AAGK,SAAA,CAACT,OAAOU,SAAS;AAC1B;AAEA,MAAMQ,gBAAqCC,CAAU,UAAA;AAC7CzB,QAAAA,uBAAuB,CAACK,2BAA2B;AAEnDqB,QAAAA,YAAYC,KAAKjC,eAAe;AACxC;AAEA8B,cAAcI,aAAa;AAE3B,MAAA,kBAAeJ;;;"}