{"version":3,"file":"useSortBy.cjs","sources":["../../../../../src/components/Table/hooks/useSortBy.ts"],"sourcesContent":["import { ensurePluginOrder, Hooks } from \"react-table\";\n\n// #region ##### TYPES #####\n\n// getHeaderProps:\nexport interface UseHvSortByColumnProps {\n  sortable?: boolean;\n  sorted?: boolean;\n  sortDirection?: \"descending\" | \"ascending\";\n  onClick?: (e: React.MouseEvent<HTMLTableCellElement>) => void;\n}\n\n// getCellProps:\nexport interface UseHvSortByTableCellProps {\n  sorted?: boolean;\n}\n\nexport type UseHvSortByProps = (<D extends object = Record<string, unknown>>(\n  hooks: Hooks<D>\n) => void) & { pluginName: string };\n\n// #endregion ##### TYPES #####\n\n// props target: <table><thead><tr><th>\nconst getHeaderPropsHook = (props, { instance, column }) => {\n  const { isMultiSortEvent = (e) => e.shiftKey } = instance;\n\n  const sortDirection = column.isSortedDesc ? \"descending\" : \"ascending\";\n\n  const nextProps: UseHvSortByColumnProps = {\n    sortable: column.canSort,\n    sorted: column.isSorted,\n    sortDirection: column.isSorted ? sortDirection : undefined,\n\n    onClick: column.canSort\n      ? (e) => {\n          e.persist();\n          column.toggleSortBy(\n            undefined,\n            !instance.disableMultiSort && isMultiSortEvent(e)\n          );\n        }\n      : undefined,\n  };\n\n  return [props, nextProps];\n};\n\n// props target: <table><tbody><tr><td>\nconst getCellPropsHook = (props, { cell }) => {\n  const nextProps: UseHvSortByTableCellProps = {\n    sorted: cell.column.isSorted,\n  };\n\n  return [props, nextProps];\n};\n\nconst useInstanceHook = (instance) => {\n  ensurePluginOrder(instance.plugins, [\"useSortBy\"], \"useHvSortBy\");\n};\n\nconst useSortBy: UseHvSortByProps = (hooks) => {\n  // props target: <table><thead><tr><th>\n  hooks.getHeaderProps.push(getHeaderPropsHook);\n  // props target: <table><tbody><tr><td>\n  hooks.getCellProps.push(getCellPropsHook);\n\n  hooks.useInstance.push(useInstanceHook);\n};\n\nuseSortBy.pluginName = \"useHvSortBy\";\n\nexport default useSortBy;\n"],"names":["getHeaderPropsHook","props","instance","column","isMultiSortEvent","e","shiftKey","sortDirection","isSortedDesc","nextProps","sortable","canSort","sorted","isSorted","undefined","onClick","persist","toggleSortBy","disableMultiSort","getCellPropsHook","cell","useInstanceHook","ensurePluginOrder","plugins","useSortBy","hooks","getHeaderProps","push","getCellProps","useInstance","pluginName"],"mappings":";;;AAwBA,MAAMA,qBAAqBA,CAACC,OAAO;AAAA,EAAEC;AAAAA,EAAUC;AAAO,MAAM;AACpD,QAAA;AAAA,IAAEC,mBAAoBC,OAAMA,EAAEC;AAAAA,EAAaJ,IAAAA;AAE3CK,QAAAA,gBAAgBJ,OAAOK,eAAe,eAAe;AAE3D,QAAMC,YAAoC;AAAA,IACxCC,UAAUP,OAAOQ;AAAAA,IACjBC,QAAQT,OAAOU;AAAAA,IACfN,eAAeJ,OAAOU,WAAWN,gBAAgBO;AAAAA,IAEjDC,SAASZ,OAAOQ,UACXN,CAAM,MAAA;AACLA,QAAEW,QAAQ;AACVb,aAAOc,aACLH,QACA,CAACZ,SAASgB,oBAAoBd,iBAAiBC,CAAC,CAClD;AAAA,IAEFS,IAAAA;AAAAA,EAAAA;AAGC,SAAA,CAACb,OAAOQ,SAAS;AAC1B;AAGA,MAAMU,mBAAmBA,CAAClB,OAAO;AAAA,EAAEmB;AAAK,MAAM;AAC5C,QAAMX,YAAuC;AAAA,IAC3CG,QAAQQ,KAAKjB,OAAOU;AAAAA,EAAAA;AAGf,SAAA,CAACZ,OAAOQ,SAAS;AAC1B;AAEA,MAAMY,kBAAmBnB,CAAa,aAAA;AACpCoB,aAAAA,kBAAkBpB,SAASqB,SAAS,CAAC,WAAW,GAAG,aAAa;AAClE;AAEA,MAAMC,YAA+BC,CAAU,UAAA;AAEvCC,QAAAA,eAAeC,KAAK3B,kBAAkB;AAEtC4B,QAAAA,aAAaD,KAAKR,gBAAgB;AAElCU,QAAAA,YAAYF,KAAKN,eAAe;AACxC;AAEAG,UAAUM,aAAa;AAEvB,MAAA,cAAeN;;"}