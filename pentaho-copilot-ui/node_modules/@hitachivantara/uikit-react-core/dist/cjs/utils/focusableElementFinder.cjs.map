{"version":3,"file":"focusableElementFinder.cjs","sources":["../../../src/utils/focusableElementFinder.ts"],"sourcesContent":["const SELECTORS =\n  'input, button, select, textarea, a[href], [tabindex]:not([tabindex=\"-1\"])';\n\n/**\n * Gets the list of focusable elements.\n * @param node\n * @returns {*|NodeListOf<HTMLElementTagNameMap[string]>|NodeListOf<*>|NodeListOf<SVGElementTagNameMap[string]>|*[]}\n */\nconst getFocusableList = (node) =>\n  (node && node.querySelectorAll(SELECTORS)) || [];\n\n/**\n * Auxiliary function to find adjacent nodes to focus.\n *\n * @param nodeId\n * @returns {{prevFocus: *, nextFocus: *}}\n */\nconst getPrevNextFocus = (nodeId) => {\n  const nodes = getFocusableList(document);\n\n  const nbNodes = nodes.length;\n  let index = 0;\n  for (; index < nbNodes; index += 1) {\n    if (nodes[index].id === nodeId) {\n      break;\n    }\n  }\n  return {\n    nextFocus: nodes[index + 1 > nbNodes - 1 ? 0 : index + 1],\n    prevFocus: nodes[index - 1 < 0 ? nbNodes - 1 : index - 1],\n  };\n};\n\n/**\n * Get the first and last focusable element from a node.\n *\n * @param nodeId\n * @returns {{last: *, first: *}}\n */\nconst getFirstAndLastFocus = (node) => {\n  const focusableList = getFocusableList(node);\n\n  return {\n    first: focusableList[0] || null,\n    last: focusableList[focusableList.length - 1] || null,\n  };\n};\n\nexport { getFocusableList, getFirstAndLastFocus, getPrevNextFocus };\nexport default getPrevNextFocus;\n"],"names":["SELECTORS","getFocusableList","node","querySelectorAll","getPrevNextFocus","nodeId","nodes","document","nbNodes","length","index","id","nextFocus","prevFocus","getFirstAndLastFocus","focusableList","first","last"],"mappings":";;AAAA,MAAMA,YACJ;AAOF,MAAMC,mBAAoBC,CACvBA,SAAAA,QAAQA,KAAKC,iBAAiBH,SAAS,KAAM,CAAE;AAQlD,MAAMI,mBAAoBC,CAAW,WAAA;AAC7BC,QAAAA,QAAQL,iBAAiBM,QAAQ;AAEvC,QAAMC,UAAUF,MAAMG;AACtB,MAAIC,QAAQ;AACLA,SAAAA,QAAQF,SAASE,SAAS,GAAG;AAClC,QAAIJ,MAAMI,KAAK,EAAEC,OAAON,QAAQ;AAC9B;AAAA,IACF;AAAA,EACF;AACO,SAAA;AAAA,IACLO,WAAWN,MAAMI,QAAQ,IAAIF,UAAU,IAAI,IAAIE,QAAQ,CAAC;AAAA,IACxDG,WAAWP,MAAMI,QAAQ,IAAI,IAAIF,UAAU,IAAIE,QAAQ,CAAC;AAAA,EAAA;AAE5D;AAQA,MAAMI,uBAAwBZ,CAAS,SAAA;AAC/Ba,QAAAA,gBAAgBd,iBAAiBC,IAAI;AAEpC,SAAA;AAAA,IACLc,OAAOD,cAAc,CAAC,KAAK;AAAA,IAC3BE,MAAMF,cAAcA,cAAcN,SAAS,CAAC,KAAK;AAAA,EAAA;AAErD;;;;;"}