import { useState, useEffect } from "react";
import { useTimeout } from "./useTimeout.js";
import { formatTimeAgo } from "./formatUtils.js";
const fmt = (timestamp, locale, showSeconds) => {
  const timestampMs = String(timestamp).length > 11 ? timestamp : timestamp * 1e3;
  return formatTimeAgo(new Date(timestampMs), locale, showSeconds);
};
function useTimeAgo(timestamp, options) {
  const {
    locale,
    disableRefresh = false,
    showSeconds = false
  } = options;
  const [timeAgo, setTimeAgo] = useState(fmt(timestamp, locale, showSeconds));
  const refreshTime = disableRefresh ? 0 : timeAgo.delay * 1e3;
  useEffect(() => {
    const newTimeAgo = fmt(timestamp, locale, showSeconds);
    setTimeAgo(newTimeAgo);
  }, [timestamp, locale, showSeconds]);
  useTimeout(() => {
    const newTimeAgo = fmt(timestamp, locale, showSeconds);
    setTimeAgo(newTimeAgo);
  }, refreshTime);
  return timeAgo.timeAgo;
}
export {
  useTimeAgo as default
};
//# sourceMappingURL=useTimeAgo.js.map
