{"version":3,"file":"Preview.js","sources":["../../../../../src/components/FileUploader/Preview/Preview.tsx"],"sourcesContent":["import { useEffect } from \"react\";\n\nimport { HvButton, HvButtonProps } from \"@core/components/Button\";\n\nimport { Preview } from \"@hitachivantara/uikit-react-icons\";\n\nimport { ExtractNames } from \"@core/utils/classes\";\n\nimport { staticClasses, useClasses } from \"./Preview.styles\";\n\nexport { staticClasses as fileUploaderPreviewClasses };\n\nexport type HvFileUploaderPreviewClasses = ExtractNames<typeof useClasses>;\n\nexport interface HvFileUploaderPreviewProps\n  extends Omit<HvButtonProps, \"children\" | \"classes\"> {\n  /**\n   * Content that represents the preview of an uploaded file.\n   */\n  children: React.ReactElement;\n  /**\n   * Callback executed when the preview is unmounted.\n   *\n   * Should be used for cleaning up client-side image URLs created by `URL.createObjectURL()`.\n   */\n  onUnload?: () => void;\n  /**\n   * If `true`, doesn't show an overlay on top of the preview when hovering.\n   *\n   * Only applies when `onClick` is set.\n   */\n  disableOverlay?: boolean;\n  /**\n   * A Jss Object used to override or extend the styles applied to the component.\n   */\n  classes?: HvFileUploaderPreviewClasses;\n}\n\n/**\n * The `HvFileUploaderPreview` component is available to facilitate the styling\n * of the button (when clickable) and the detection of image unloading.\n */\nexport const HvFileUploaderPreview = ({\n  className,\n  children,\n  classes: classesProp,\n  disableOverlay = false,\n  onUnload,\n  onClick,\n  ...others\n}: HvFileUploaderPreviewProps) => {\n  const { classes, cx, css } = useClasses(classesProp);\n\n  useEffect(() => {\n    return () => {\n      onUnload?.();\n    };\n  }, [onUnload]);\n\n  if (onClick) {\n    return (\n      <HvButton\n        icon\n        className={cx(classes.previewButton, className)}\n        onClick={onClick}\n        {...others}\n      >\n        {children}\n        {!disableOverlay && (\n          <div className={classes.overlay} aria-hidden=\"true\">\n            <Preview\n              className={css({\n                position: \"absolute\",\n                left: \"50%\",\n                top: \"50%\",\n                transform: \"translate(-50%, -50%)\",\n                display: \"none\",\n              })}\n            />\n          </div>\n        )}\n      </HvButton>\n    );\n  }\n\n  return children;\n};\n"],"names":["HvFileUploaderPreview","className","children","classes","classesProp","disableOverlay","onUnload","onClick","others","cx","css","useClasses","useEffect","previewButton","overlay","position","left","top","transform","display"],"mappings":";;;;;;AA0CO,MAAMA,wBAAwBA,CAAC;AAAA,EACpCC;AAAAA,EACAC;AAAAA,EACAC,SAASC;AAAAA,EACTC,iBAAiB;AAAA,EACjBC;AAAAA,EACAC;AAAAA,EACA,GAAGC;AACuB,MAAM;AAC1B,QAAA;AAAA,IAAEL;AAAAA,IAASM;AAAAA,IAAIC;AAAAA,EAAAA,IAAQC,WAAWP,WAAW;AAEnDQ,YAAU,MAAM;AACd,WAAO,MAAM;AACA;AAAA,IAAA;AAAA,EACb,GACC,CAACN,QAAQ,CAAC;AAEb,MAAIC,SAAS;AACX,WACG,qBAAA,UAAA,EACC,MAAI,MACJ,WAAWE,GAAGN,QAAQU,eAAeZ,SAAS,GAC9C,SACIO,GAAAA,QAEHN,UAAAA;AAAAA,MAAAA;AAAAA,MACA,CAACG,kBACC,oBAAA,OAAA,EAAI,WAAWF,QAAQW,SAAS,eAAY,QAC3C,UAAA,oBAAC,SACC,EAAA,WAAWJ,IAAI;AAAA,QACbK,UAAU;AAAA,QACVC,MAAM;AAAA,QACNC,KAAK;AAAA,QACLC,WAAW;AAAA,QACXC,SAAS;AAAA,MAAA,CACV,GAAE,EAEP,CAAA;AAAA,IAEJ,EAAA,CAAA;AAAA,EAEJ;AAEOjB,SAAAA;AACT;"}