{"version":3,"file":"FileUploader.js","sources":["../../../../src/components/FileUploader/FileUploader.tsx"],"sourcesContent":["import { useLabels } from \"@core/hooks/useLabels\";\nimport { setId } from \"@core/utils/setId\";\nimport { HvBaseProps } from \"@core/types/generic\";\n\nimport { useDefaultProps } from \"@core/hooks/useDefaultProps\";\nimport { HvDropZone, HvDropZoneLabels } from \"./DropZone\";\nimport { HvFileData, HvFileRemovedEvent, HvFilesAddedEvent } from \"./File\";\nimport { HvFileList } from \"./FileList\";\n\nexport interface HvFileUploaderLabels extends HvDropZoneLabels {\n  /**\n   * Value of aria-label to apply to remove file button in FileList\n   * */\n  removeFileButtonLabel?: string;\n}\n\nexport interface HvFileUploaderProps extends HvBaseProps {\n  /**\n   * An object containing all the labels.\n   */\n  labels?: HvFileUploaderLabels;\n  /**\n   * The files to upload.\n   */\n  fileList?: HvFileData[];\n  /**\n   * Whether the Dropzone should accept multiple files at once.\n   */\n  multiple?: boolean;\n  /**\n   * If the input is disabled or not\n   */\n  disabled?: boolean;\n  /**\n   * Max upload size\n   * */\n  maxFileSize?: number;\n  /**\n   * Files extensions accepted for upload.\n   */\n  acceptedFiles?: string[];\n  /**\n   * Callback fired when files are added.\n   */\n  onFilesAdded?: HvFilesAddedEvent;\n  /**\n   * Callback fired when file is removed from list.\n   */\n  onFileRemoved?: HvFileRemovedEvent;\n  /**\n   * Whether the DropZone should hide labels or not.\n   */\n  hideLabels?: boolean;\n  /**\n   * Attributes applied to the input element.\n   */\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n}\n\n// TODO: This component needs to adopt the Form element shape and deprecate its way of composing labels\n\nconst DEFAULT_LABELS: HvFileUploaderLabels = {\n  dropzone: \"Label\",\n  sizeWarning: \"Max. file size:\",\n  drag: \"Drop files here or\",\n  selectFiles: \"click to upload\",\n  dropFiles: \"Drop files here\",\n  fileSizeError: \"The file exceeds the maximum upload size\",\n  fileTypeError: \"File type not allowed for upload\",\n  removeFileButtonLabel: \"Remove File\",\n};\n\n/**\n * Lets the user choose one or more files from their device storage. Once chosen,\n * the files can be uploaded to a server or manipulated on the client side.\n *\n * Accepted file types follow the format of the html input accept attribute. Please check https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file for more details.\n */\nexport const HvFileUploader = (props: HvFileUploaderProps) => {\n  const {\n    id,\n    className,\n    labels: labelsProp,\n    fileList,\n    multiple = true,\n    disabled = false,\n    hideLabels = false,\n    maxFileSize = Infinity,\n    inputProps = {},\n    acceptedFiles = [],\n    onFilesAdded,\n    onFileRemoved,\n    ...others\n  } = useDefaultProps(\"HvFileUploader\", props);\n  const labels = useLabels(DEFAULT_LABELS, labelsProp);\n\n  return (\n    <div id={id} className={className} {...others}>\n      <HvDropZone\n        id={setId(id, \"dropzone\")}\n        labels={labels}\n        multiple={multiple}\n        disabled={disabled}\n        acceptedFiles={acceptedFiles}\n        maxFileSize={maxFileSize}\n        onFilesAdded={onFilesAdded}\n        inputProps={inputProps}\n        hideLabels={hideLabels}\n      />\n      <HvFileList\n        id={setId(id, \"filelist\")}\n        list={fileList}\n        onFileRemoved={onFileRemoved}\n        removeFileButtonLabel={labels?.removeFileButtonLabel}\n      />\n    </div>\n  );\n};\n"],"names":["DEFAULT_LABELS","dropzone","sizeWarning","drag","selectFiles","dropFiles","fileSizeError","fileTypeError","removeFileButtonLabel","HvFileUploader","props","id","className","labels","labelsProp","fileList","multiple","disabled","hideLabels","maxFileSize","Infinity","inputProps","acceptedFiles","onFilesAdded","onFileRemoved","others","useDefaultProps","useLabels","setId"],"mappings":";;;;;;AA6DA,MAAMA,iBAAuC;AAAA,EAC3CC,UAAU;AAAA,EACVC,aAAa;AAAA,EACbC,MAAM;AAAA,EACNC,aAAa;AAAA,EACbC,WAAW;AAAA,EACXC,eAAe;AAAA,EACfC,eAAe;AAAA,EACfC,uBAAuB;AACzB;AAQaC,MAAAA,iBAAiBA,CAACC,UAA+B;AACtD,QAAA;AAAA,IACJC;AAAAA,IACAC;AAAAA,IACAC,QAAQC;AAAAA,IACRC;AAAAA,IACAC,WAAW;AAAA,IACXC,WAAW;AAAA,IACXC,aAAa;AAAA,IACbC,cAAcC;AAAAA,IACdC,aAAa,CAAC;AAAA,IACdC,gBAAgB,CAAE;AAAA,IAClBC;AAAAA,IACAC;AAAAA,IACA,GAAGC;AAAAA,EAAAA,IACDC,gBAAgB,kBAAkBhB,KAAK;AACrCG,QAAAA,SAASc,UAAU3B,gBAAgBc,UAAU;AAEnD,SACG,qBAAA,OAAA,EAAI,IAAQ,WAAsB,GAAIW,QACrC,UAAA;AAAA,IAAA,oBAAC,YACC,EAAA,IAAIG,MAAMjB,IAAI,UAAU,GACxB,QACA,UACA,UACA,eACA,aACA,cACA,YACA,YAAuB;AAAA,IAExB,oBAAA,YAAA,EACC,IAAIiB,MAAMjB,IAAI,UAAU,GACxB,MAAMI,UACN,eACA,uBAAuBF,iCAAQL,sBAAsB,CAAA;AAAA,EAEzD,EAAA,CAAA;AAEJ;"}