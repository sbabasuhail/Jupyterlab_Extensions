{"version":3,"file":"useDefaultProps.js","sources":["../../../src/hooks/useDefaultProps.ts"],"sourcesContent":["import { useMemo } from \"react\";\nimport { useCss } from \"./useCss\";\nimport { useTheme } from \"./useTheme\";\n\n/** Filter out `undefined` entries from `props` object. */\nexport function filterProps(props: Record<string, any>) {\n  return Object.keys(props).reduce((acc, key) => {\n    if (props[key] !== undefined) {\n      acc[key] = props[key];\n    }\n    return acc;\n  }, {} as typeof props);\n}\n\n/** Injects into `props` the props defined in the theme `componentName`. */\nexport function useDefaultProps<T extends Record<string, any>>(\n  /** Name of the theme component key to inject defaultProps */\n  componentName: string, // keyof HvThemeComponents,\n  props: T\n): T {\n  const { activeTheme } = useTheme();\n  const { css, cx } = useCss();\n\n  const themeDefaultProps = activeTheme?.components?.[componentName];\n\n  const classes = useMemo(() => {\n    const themeClasses = themeDefaultProps?.classes || {};\n    const propsClasses = props?.classes || {};\n    const classKeys = [\n      ...Object.keys(themeClasses),\n      ...Object.keys(propsClasses),\n    ];\n    return classKeys.reduce((acc, key) => {\n      acc[key] = cx(\n        themeClasses[key] && css(themeClasses[key]),\n        propsClasses[key]\n      );\n      return acc;\n    }, {} as Record<string, string>);\n  }, [css, cx, props?.classes, themeDefaultProps?.classes]);\n\n  return {\n    ...themeDefaultProps,\n    ...filterProps(props),\n    classes,\n  };\n}\n"],"names":["filterProps","props","Object","keys","reduce","acc","key","undefined","useDefaultProps","componentName","activeTheme","useTheme","css","cx","useCss","themeDefaultProps","components","classes","useMemo","themeClasses","propsClasses","classKeys"],"mappings":";;;AAKO,SAASA,YAAYC,OAA4B;AACtD,SAAOC,OAAOC,KAAKF,KAAK,EAAEG,OAAO,CAACC,KAAKC,QAAQ;AACzCL,QAAAA,MAAMK,GAAG,MAAMC,QAAW;AACxBD,UAAAA,GAAG,IAAIL,MAAMK,GAAG;AAAA,IACtB;AACOD,WAAAA;AAAAA,EACT,GAAG,CAAmB,CAAA;AACxB;AAGgBG,SAAAA,gBAEdC,eACAR,OACG;;AACG,QAAA;AAAA,IAAES;AAAAA,MAAgBC,SAAS;AAC3B,QAAA;AAAA,IAAEC;AAAAA,IAAKC;AAAAA,MAAOC,OAAO;AAErBC,QAAAA,qBAAoBL,gDAAaM,eAAbN,mBAA0BD;AAE9CQ,QAAAA,UAAUC,QAAQ,MAAM;AACtBC,UAAAA,gBAAeJ,uDAAmBE,YAAW;AAC7CG,UAAAA,gBAAenB,+BAAOgB,YAAW;AACjCI,UAAAA,YAAY,CAChB,GAAGnB,OAAOC,KAAKgB,YAAY,GAC3B,GAAGjB,OAAOC,KAAKiB,YAAY,CAAC;AAE9B,WAAOC,UAAUjB,OAAO,CAACC,KAAKC,QAAQ;AACpCD,UAAIC,GAAG,IAAIO,GACTM,aAAab,GAAG,KAAKM,IAAIO,aAAab,GAAG,CAAC,GAC1Cc,aAAad,GAAG,CAClB;AACOD,aAAAA;AAAAA,IACT,GAAG,CAA6B,CAAA;AAAA,EAAA,GAC/B,CAACO,KAAKC,IAAIZ,+BAAOgB,SAASF,uDAAmBE,OAAO,CAAC;AAEjD,SAAA;AAAA,IACL,GAAGF;AAAAA,IACH,GAAGf,YAAYC,KAAK;AAAA,IACpBgB;AAAAA,EAAAA;AAEJ;"}