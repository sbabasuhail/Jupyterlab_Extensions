{"version":3,"file":"basePathUtils.js","sources":["../../../../src/lib/utils/basePathUtils.ts"],"sourcesContent":["import {\n  HvAppShellConfig,\n  HvAppShellAppsConfig\n} from \"@hitachivantara/app-shell-shared\";\n\n/**\n * Returns the app base path.\n * - The path is calculated by returning the sub-path value for the main app.\n * - Main app is the first app that baseUrl matches window.location\n * - App baseUrl don't have case restrictions\n * - If the main app is not discovered, returns \"/\"\n *\n * @return The main app baseUrl, or \"/\" otherwise. Value is always returned in lowercase.\n * @param config The app configuration definition\n */\nconst getBasePath = (config: HvAppShellConfig) => {\n  if (config) {\n    const self = config.apps?.filter((app: HvAppShellAppsConfig) => {\n      const appBaseUrlLowerCase = app.baseUrl.toLowerCase();\n      return (\n        window.location.pathname.search(appBaseUrlLowerCase) === 0 ||\n        window.location.href.search(appBaseUrlLowerCase) === 0\n      );\n    });\n    if (self && self.length > 0) {\n      const url = self[0].baseUrl;\n      try {\n        return new URL(url).pathname;\n      } catch {\n        return url;\n      }\n    }\n  }\n  return \"/\";\n};\n\nexport default getBasePath;\n"],"names":["getBasePath","config","_a","self","apps","filter","app","appBaseUrlLowerCase","baseUrl","toLowerCase","window","location","pathname","search","href","length","url","URL","getBasePath$1"],"mappings":"AAeA,MAAMA,IAAcA,CAACC,MAA6B;AAAlD,MAAAC;AACE,MAAID,GAAQ;AACV,UAAME,KAAOF,IAAAA,EAAOG,SAAPH,gBAAAA,EAAaI,OAAO,CAACC,MAA8B;AACxDC,YAAAA,IAAsBD,EAAIE,QAAQC,YAAY;AACpD,aACEC,OAAOC,SAASC,SAASC,OAAON,CAAmB,MAAM,KACzDG,OAAOC,SAASG,KAAKD,OAAON,CAAmB,MAAM;AAAA,IAAA;AAGrDJ,QAAAA,KAAQA,EAAKY,SAAS,GAAG;AACrBC,YAAAA,IAAMb,EAAK,CAAC,EAAEK;AAChB,UAAA;AACK,eAAA,IAAIS,IAAID,CAAG,EAAEJ;AAAAA,MAAAA,QACd;AACCI,eAAAA;AAAAA,MACT;AAAA,IACF;AAAA,EACF;AACO,SAAA;AACT,GAEAE,IAAelB;"}