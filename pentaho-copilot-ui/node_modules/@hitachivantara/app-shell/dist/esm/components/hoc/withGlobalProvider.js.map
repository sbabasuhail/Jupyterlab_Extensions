{"version":3,"file":"withGlobalProvider.js","sources":["../../../../src/components/hoc/withGlobalProvider.tsx"],"sourcesContent":["import { css } from \"@emotion/css\";\nimport { I18nextProvider } from \"react-i18next\";\nimport { HelmetProvider } from \"react-helmet-async\";\n\nimport {\n  HvProvider,\n  HvSnackbarProvider,\n  theme\n} from \"@hitachivantara/uikit-react-core\";\n\nimport React from \"react\";\nimport { ErrorBoundary } from \"react-error-boundary\";\n\nimport GlobalStyles from \"../GlobalStyles\";\nimport AppShellProvider from \"../AppShellProvider/AppShellProvider\";\nimport NavigationProvider from \"../../providers/NavigationProvider\";\nimport createI18Next from \"../../lib/i18n\";\nimport BannerProvider from \"../../providers/BannerProvider\";\nimport LayoutProvider from \"../../providers/LayoutProvider\";\nimport GenericError from \"../../pages/GenericError\";\nimport CustomHooksInitializer from \"../CustomHooksInitializer\";\n\ntype WrappedComponentProps<T extends React.ElementType> = React.ComponentType<\n  React.ComponentProps<T>\n>;\n\nconst snackbarClasses = {\n  containerRoot: css`\n    margin-top: ${theme.header.height};\n  `\n};\n\nconst withGlobalProvider = <T extends React.ElementType>(\n  WrappedComponent: WrappedComponentProps<T>\n) => {\n  const displayName = WrappedComponent.displayName || WrappedComponent.name;\n\n  const helmetContext = {};\n  const { i18n } = createI18Next();\n\n  const ComponentWithGlobalProvider = ({\n    ...wrappedProps\n  }: React.ComponentProps<T>) => {\n    return (\n      <HelmetProvider context={helmetContext}>\n        <HvProvider>\n          <GlobalStyles />\n          <I18nextProvider i18n={i18n}>\n            <ErrorBoundary\n              key=\"general\"\n              fallback={<GenericError fullPage includeFooter={false} />}>\n              <AppShellProvider\n                config={wrappedProps.config}\n                configUrl={wrappedProps.configUrl}>\n                <LayoutProvider>\n                  <HvSnackbarProvider\n                    notistackClassesOverride={snackbarClasses}>\n                    <ErrorBoundary fallback={<GenericError fullPage />}>\n                      <NavigationProvider>\n                        <BannerProvider>\n                          <CustomHooksInitializer />\n                          <WrappedComponent {...wrappedProps} />\n                        </BannerProvider>\n                      </NavigationProvider>\n                    </ErrorBoundary>\n                  </HvSnackbarProvider>\n                </LayoutProvider>\n              </AppShellProvider>\n            </ErrorBoundary>\n          </I18nextProvider>\n        </HvProvider>\n      </HelmetProvider>\n    );\n  };\n\n  ComponentWithGlobalProvider.displayName = `withGlobalProvider(${displayName})`;\n\n  return ComponentWithGlobalProvider;\n};\n\nexport default withGlobalProvider;\n"],"names":["snackbarClasses","containerRoot","css","theme","header","height","process","env","NODE_ENV","withGlobalProvider","WrappedComponent","displayName","name","helmetContext","i18n","createI18Next","ComponentWithGlobalProvider","wrappedProps","jsx","HelmetProvider","HvProvider","GlobalStyles","I18nextProvider","ErrorBoundary","GenericError","AppShellProvider","config","configUrl","LayoutProvider","HvSnackbarProvider","NavigationProvider","BannerProvider","CustomHooksInitializer","withGlobalProvider$1"],"mappings":";;;;;;;;;;;;;;AA0BA,MAAMA,IAAkB;AAAA,EACtBC,eAAkB,gBAAAC,EAAA,eACFC,EAAMC,OAAOC,QAAM,OAAAC,QAAAC,IAAAC,aAAA,eAAA,KAAA,0BAAAF,QAAAC,IAAAC,aAAA,eAAA,KAAA,qjIAAA;AAErC,GAEMC,IAAqB,CACzBC,MACG;AACGC,QAAAA,IAAcD,EAAiBC,eAAeD,EAAiBE,MAE/DC,IAAgB,CAAA,GAChB;AAAA,IAAEC,MAAAA;AAAAA,MAASC,EAAc,GAEzBC,IAA8BA,CAAC;AAAA,IACnC,GAAGC;AAAAA,EAAAA,MAGA,gBAAAC,EAAAC,GAAA,EAAe,SAASN,GACvB,4BAACO,GACC,EAAA,UAAA;AAAA,IAAA,gBAAAF,EAACG,GAAY,EAAA;AAAA,sBACZC,GAAgB,EAAA,MAAAR,GACf,UAAC,gBAAAI,EAAAK,GAAA,EAEC,UAAW,gBAAAL,EAAAM,GAAA,EAAa,UAAQ,IAAC,eAAe,GAAM,CAAA,GACtD,4BAACC,GACC,EAAA,QAAQR,EAAaS,QACrB,WAAWT,EAAaU,WACxB,4BAACC,GACC,EAAA,UAAA,gBAAAV,EAACW,GACC,EAAA,0BAA0B7B,GAC1B,UAAC,gBAAAkB,EAAAK,GAAA,EAAc,UAAU,gBAAAL,EAACM,KAAa,UAAQ,GAAA,CAAA,GAC7C,UAAC,gBAAAN,EAAAY,GAAA,EACC,4BAACC,GACC,EAAA,UAAA;AAAA,MAAA,gBAAAb,EAACc,GAAsB,EAAA;AAAA,MACvB,gBAAAd,EAACR,GAAiB,EAAA,GAAIO,GAAa;AAAA,IAAA,GACrC,GACF,EACF,CAAA,EACF,CAAA,EACF,CAAA,GACF,EAAA,GAlBI,SAmBN,GACF;AAAA,EAAA,EACF,CAAA,EACF,CAAA;AAIwBN,SAAAA,EAAAA,cAAe,sBAAqBA,CAAY,KAErEK;AACT,GAEAiB,IAAexB;"}